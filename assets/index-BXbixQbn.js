var ji=Object.defineProperty;var Gi=(t,e,i)=>e in t?ji(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i;var At=(t,e,i)=>Gi(t,typeof e!="symbol"?e+"":e,i);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ui(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ci="Expected a function",Tt=NaN,qi="[object Symbol]",Ki=/^\s+|\s+$/g,Ji=/^[-+]0x[0-9a-f]+$/i,Qi=/^0b[01]+$/i,eo=/^0o[0-7]+$/i,to=parseInt,io=typeof ze=="object"&&ze&&ze.Object===Object&&ze,oo=typeof self=="object"&&self&&self.Object===Object&&self,so=io||oo||Function("return this")(),no=Object.prototype,ro=no.toString,ao=Math.max,lo=Math.min,rt=function(){return so.Date.now()};function co(t,e,i){var o,s,n,a,l,r,c=0,d=!1,u=!1,f=!0;if(typeof t!="function")throw new TypeError(Ci);e=Rt(e)||0,qe(i)&&(d=!!i.leading,u="maxWait"in i,n=u?ao(Rt(i.maxWait)||0,e):n,f="trailing"in i?!!i.trailing:f);function p(m){var v=o,x=s;return o=s=void 0,c=m,a=t.apply(x,v),a}function I(m){return c=m,l=setTimeout(E,e),d?p(m):a}function b(m){var v=m-r,x=m-c,S=e-v;return u?lo(S,n-x):S}function g(m){var v=m-r,x=m-c;return r===void 0||v>=e||v<0||u&&x>=n}function E(){var m=rt();if(g(m))return O(m);l=setTimeout(E,b(m))}function O(m){return l=void 0,f&&o?p(m):(o=s=void 0,a)}function w(){l!==void 0&&clearTimeout(l),c=0,o=r=s=l=void 0}function y(){return l===void 0?a:O(rt())}function C(){var m=rt(),v=g(m);if(o=arguments,s=this,r=m,v){if(l===void 0)return I(r);if(u)return l=setTimeout(E,e),p(r)}return l===void 0&&(l=setTimeout(E,e)),a}return C.cancel=w,C.flush=y,C}function ho(t,e,i){var o=!0,s=!0;if(typeof t!="function")throw new TypeError(Ci);return qe(i)&&(o="leading"in i?!!i.leading:o,s="trailing"in i?!!i.trailing:s),co(t,e,{leading:o,maxWait:e,trailing:s})}function qe(t){var e=typeof t;return!!t&&(e=="object"||e=="function")}function uo(t){return!!t&&typeof t=="object"}function po(t){return typeof t=="symbol"||uo(t)&&ro.call(t)==qi}function Rt(t){if(typeof t=="number")return t;if(po(t))return Tt;if(qe(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=qe(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=t.replace(Ki,"");var i=Qi.test(t);return i||eo.test(t)?to(t.slice(2),i?2:8):Ji.test(t)?Tt:+t}var mo=ho;const Pt=Ui(mo),B={SPIN_X:"spin-x",SPIN_Y:"spin-y",SPIN_XY:"spin-xy",SPIN_YX:"spin-yx"},fo=[!1,0,null,void 0,"false","0","null","undefined"],Y={X:"x-axis",Y:"y-axis"},go=[37,39],vo=[38,40],yo=typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Mt=yo?32:10,bo=150,$e=800,wo=150,Io=200,Xt=50,xo=50,Co=5,Yt=5,h={folder:"/",apiVersion:"v7",filenameX:"image-{index}.jpg",filenameY:null,imageListX:null,imageListY:null,indexZeroBase:0,amountX:0,amountY:0,speed:80,dragSpeed:150,draggable:!0,swipeable:!0,keys:!1,keysReverse:!1,autoplay:!1,autoplayBehavior:B.SPIN_X,playOnce:!1,autoplayReverse:!1,pointerZoom:0,pointerZoomTrigger:"dblclick",fullscreen:!1,magnifier:null,bottomCircle:!0,bottomCircleOffset:5,ciToken:null,ciFilters:null,ciTransformation:null,lazyload:!0,dragReverse:!1,stopAtEdges:!1,imageInfo:!1,initialIconShown:!0,hotspots:null,hotspotTrigger:"hover",hide360Logo:!1,logoSrc:null,inertia:!1,pinchZoom:!0,hints:!0,theme:null,markerTheme:null,brandColor:null,hotspotTimelineOnClick:!0,aspectRatio:null,onReady:null,onLoad:null,onSpin:null,onAutoplayStart:null,onAutoplayStop:null,onFullscreenOpen:null,onFullscreenClose:null,onZoomIn:null,onZoomOut:null,onDragStart:null,onDragEnd:null},Eo=t=>({folder:L(t,"folder",h.folder),apiVersion:L(t,"api-version",h.apiVersion),filenameX:L(t,"filename")||L(t,"filename-x")||h.filenameX,filenameY:L(t,"filename-y",h.filenameY),imageListX:L(t,"image-list-x",h.imageListX),imageListY:L(t,"image-list-y",h.imageListY),indexZeroBase:parseInt(L(t,"index-zero-base",h.indexZeroBase),10),amountX:parseInt(L(t,"amount-x",h.amountX),10),amountY:parseInt(L(t,"amount-y",h.amountY),10),speed:parseInt(L(t,"speed",h.speed),10),dragSpeed:parseInt(L(t,"drag-speed",h.dragSpeed),10),draggable:X(t,"draggable",h.draggable),swipeable:X(t,"swipeable",h.swipeable),keys:X(t,"keys",h.keys),keysReverse:X(t,"keys-reverse",h.keysReverse),autoplay:X(t,"autoplay",h.autoplay),autoplayBehavior:L(t,"autoplay-behavior",h.autoplayBehavior),playOnce:X(t,"play-once",h.playOnce),autoplayReverse:X(t,"autoplay-reverse",h.autoplayReverse),pointerZoom:parseFloat(L(t,"pointer-zoom",h.pointerZoom)),pointerZoomTrigger:L(t,"pointer-zoom-trigger",h.pointerZoomTrigger),fullscreen:X(t,"fullscreen")||X(t,"full-screen",h.fullscreen),magnifier:parseFloat(L(t,"magnifier",h.magnifier)),bottomCircleOffset:parseInt(L(t,"bottom-circle-offset",h.bottomCircleOffset),10),ciToken:L(t,"responsive",h.ciToken),ciFilters:L(t,"filters",h.ciFilters),ciTransformation:L(t,"transformation",h.ciTransformation),lazyload:X(t,"lazyload",h.lazyload),dragReverse:X(t,"drag-reverse",h.dragReverse),stopAtEdges:X(t,"stop-at-edges",h.stopAtEdges),imageInfo:X(t,"info",h.imageInfo),initialIconShown:!je(t,"initial-icon"),bottomCircle:!je(t,"bottom-circle"),hide360Logo:X(t,"hide-360-logo",h.hide360Logo),logoSrc:L(t,"logo-src",h.logoSrc),inertia:X(t,"inertia",h.inertia),pinchZoom:X(t,"pinch-zoom",h.pinchZoom),hints:!je(t,"hints"),theme:L(t,"theme",h.theme),markerTheme:L(t,"marker-theme",h.markerTheme),brandColor:L(t,"brand-color",h.brandColor),hotspotTrigger:L(t,"hotspot-trigger",h.hotspotTrigger),hotspotTimelineOnClick:!je(t,"hotspot-timeline-on-click"),aspectRatio:L(t,"aspect-ratio",h.aspectRatio)}),Oo=t=>{const e=[];t.amountX!==void 0&&t.amountX<0&&e.push("amountX should be a positive number"),t.amountY!==void 0&&t.amountY<0&&e.push("amountY should be a positive number"),t.speed!==void 0&&t.speed<=0&&e.push("speed should be a positive number"),t.dragSpeed!==void 0&&t.dragSpeed<=0&&e.push("dragSpeed should be a positive number"),t.pointerZoom!==void 0&&t.pointerZoom!==0&&(t.pointerZoom<1||t.pointerZoom>5)&&e.push("pointerZoom should be between 1 and 5 (or 0 to disable)"),t.magnifier!==void 0&&t.magnifier!==null&&t.magnifier!==0&&(t.magnifier<1||t.magnifier>5)&&e.push("magnifier should be between 1 and 5 (or 0/null to disable)"),!t.folder&&!t.imageListX&&!t.imageListY&&e.push("Either folder or imageListX/imageListY is required"),t.folder&&!t.amountX&&!t.imageListX&&e.push("amountX is required when using folder (unless imageListX is provided)");const i=["spin-x","spin-y","spin-xy","spin-yx"];return t.autoplayBehavior&&!i.includes(t.autoplayBehavior)&&e.push(`autoplayBehavior should be one of: ${i.join(", ")}`),e.forEach(o=>{console.warn(`CloudImage 360: ${o}`)}),e.length===0},So=t=>(Oo(t),{folder:t.folder||h.folder,apiVersion:t.apiVersion||h.apiVersion,filenameX:t.filenameX||t.filename||h.filenameX,filenameY:t.filenameY||h.filenameY,imageListX:t.imageListX||h.imageListX,imageListY:t.imageListY||h.imageListY,indexZeroBase:parseInt(t.indexZeroBase??h.indexZeroBase,10),amountX:parseInt(t.amountX??h.amountX,10),amountY:parseInt(t.amountY??h.amountY,10),speed:parseInt(t.speed??h.speed,10),draggable:t.draggable??h.draggable,swipeable:t.swipeable??h.swipeable,dragSpeed:parseInt(t.dragSpeed??h.dragSpeed,10),keys:t.keys??h.keys,keysReverse:t.keysReverse??h.keysReverse,autoplay:t.autoplay??h.autoplay,autoplayBehavior:t.autoplayBehavior||h.autoplayBehavior,playOnce:t.playOnce??h.playOnce,autoplayReverse:t.autoplayReverse??h.autoplayReverse,pointerZoom:parseFloat(t.pointerZoom??h.pointerZoom),pointerZoomTrigger:t.pointerZoomTrigger||h.pointerZoomTrigger,fullscreen:t.fullscreen??h.fullscreen,magnifier:parseFloat(t.magnifier??h.magnifier),bottomCircleOffset:parseInt(t.bottomCircleOffset??h.bottomCircleOffset,10),ciToken:t.ciToken||h.ciToken,ciFilters:t.ciFilters||h.ciFilters,ciTransformation:t.ciTransformation||h.ciTransformation,lazyload:t.lazyload??h.lazyload,dragReverse:t.dragReverse??h.dragReverse,stopAtEdges:t.stopAtEdges??h.stopAtEdges,imageInfo:t.imageInfo??h.imageInfo,initialIconShown:t.initialIconShown??h.initialIconShown,bottomCircle:t.bottomCircle??h.bottomCircle,hotspots:t.hotspots??h.hotspots,hotspotTrigger:t.hotspotTrigger||h.hotspotTrigger,hide360Logo:t.hide360Logo??h.hide360Logo,logoSrc:t.logoSrc||h.logoSrc,inertia:t.inertia??h.inertia,pinchZoom:t.pinchZoom??h.pinchZoom,hints:t.hints??h.hints,theme:t.theme||h.theme,markerTheme:t.markerTheme||h.markerTheme,brandColor:t.brandColor||h.brandColor,hotspotTimelineOnClick:t.hotspotTimelineOnClick??h.hotspotTimelineOnClick,aspectRatio:t.aspectRatio||h.aspectRatio,onReady:t.onReady??h.onReady,onLoad:t.onLoad??h.onLoad,onSpin:t.onSpin??h.onSpin,onAutoplayStart:t.onAutoplayStart??h.onAutoplayStart,onAutoplayStop:t.onAutoplayStop??h.onAutoplayStop,onFullscreenOpen:t.onFullscreenOpen??h.onFullscreenOpen,onFullscreenClose:t.onFullscreenClose??h.onFullscreenClose,onZoomIn:t.onZoomIn??h.onZoomIn,onZoomOut:t.onZoomOut??h.onZoomOut,onDragStart:t.onDragStart??h.onDragStart,onDragEnd:t.onDragEnd??h.onDragEnd}),L=(t,e,i)=>t.getAttribute(e)||t.getAttribute(`data-${e}`)||i,X=(t,e,i)=>{if(!(t.hasAttribute(e)||t.hasAttribute(`data-${e}`)))return i;const s=L(t,e,null);return s!=="false"&&s!=="0"},je=(t,e)=>L(t,e,null)==="false",ko=(t=1)=>{const e=Math.round(window.devicePixelRatio||1);return parseInt(t)*e},Lo=(t,e,i)=>new URL(t).origin.includes("cloudimg")?t:`https://${e}.cloudimg.io/${i}${t}`,Ao=({ciTransformation:t,responsiveWidth:e,ciFilters:i})=>{const o=`width=${e}`,s=t||o,n=i?`&f=${i}`:"";return`${s}${n}`},Re=(t,e)=>{const{folder:i,apiVersion:o,filename:s="",ciParams:n}=t,{ciToken:a,ciFilters:l,ciTransformation:r}=n||{},c=`${i}${s}`;if(!a||!e)return c;const d=fo.includes(o)?null:o,u=d?`${d}/`:"",f=ko(e),p=Lo(c,a,u),I=Ao({ciTransformation:r,responsiveWidth:f,ciFilters:l});return`${p}${I?"?":""}${I}`},To=(t,e,i)=>{const[o,s]=t.split("?"),n=`${e}=${encodeURIComponent(i)}`;if(!s)return`${o}?${n}`;const a=new URLSearchParams(s);return a.set(e,i),`${o}?${a.toString()}`},Ro=(t,e)=>To(t,"width",e),Ei=(t,e=0)=>(t+="",t.length>=e?t:new Array(e-t.length+1).join("0")+t),Po=(t,{amount:e=0,indexZeroBase:i=0}={})=>Array.from({length:e},(o,s)=>t.replace("{index}",Ei(s+1,i))),Mo=typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),Xo=Mo?3:6,Yo=({imagesUrls:t,onFirstImageLoad:e,onImageLoad:i,onAllImagesLoad:o,onError:s,autoplayReverse:n})=>{let a=0,l=0;const r=t.length,c=[],d=[];let u=0,f=0;const p=[],I=(m,v,x=!1)=>{const S={message:`Failed to load image: ${m}`,url:m,index:v,isFirstImage:x};d.push(S),l++,s==null||s({error:S,errorCount:l,totalImages:r,errors:d})},b=()=>{a===r&&(o==null||o(c,{errorCount:l,errors:d}))},g=()=>{for(;u<Xo&&f<p.length;){const m=p[f];f++,E(t[m],m)}},E=(m,v)=>{u++;const x=new Image;x.crossOrigin="anonymous",x.src=m,x.onload=async()=>{try{const S=await createImageBitmap(x),k={src:m,bitmapImage:S,naturalWidth:x.naturalWidth,naturalHeight:x.naturalHeight};x.onload=null,x.onerror=null,x.src="",a++,u--,c[v]=k,i==null||i(k,v),b(),g()}catch{x.onload=null,x.onerror=null,x.src="",a++,u--,I(m,v),b(),g()}},x.onerror=()=>{x.onload=null,x.onerror=null,x.src="",a++,u--,I(m,v),b(),g()}},O=m=>{for(let v=0;v<t.length;v++)v!==m&&p.push(v);f=0,g()},w=new Image,y=n?t.length-1:0,C=t[y];w.crossOrigin="anonymous",w.src=C,w.onload=async()=>{try{const m=await createImageBitmap(w),v={src:C,bitmapImage:m,naturalWidth:w.naturalWidth,naturalHeight:w.naturalHeight};w.onload=null,w.onerror=null,w.src="",c[y]=v,a++,e==null||e(v),i==null||i(v,y),r===1?b():O(y)}catch{w.onload=null,w.onerror=null,w.src="",a++,I(C,y,!0),r===1?b():O(y)}},w.onerror=()=>{w.onload=null,w.onerror=null,w.src="",a++,I(C,y,!0),r===1?b():O(y)}},Ht=({cdnPathX:t,cdnPathY:e,configX:i,configY:o,onFirstImageLoad:s,onImageLoad:n,onAllImagesLoad:a,onError:l})=>{let r={x:!1,y:!1},c=[],d=[],u={errorCount:0,errors:[]},f={errorCount:0,errors:[]};const p=t||i.imageList.length,I=e||o.imageList.length,b=()=>{if(r.x&&r.y){const E={errorCount:u.errorCount+f.errorCount,errors:[...u.errors,...f.errors]};a==null||a(c,d,E)}},g=({cdnPath:E,config:O,orientation:w,loadedImages:y,loadStats:C,onFirstImageLoad:m})=>{const v=w===Y.X,x=O.imageList.length?O.imageList:Po(E,O);Yo({imagesUrls:x,onFirstImageLoad:m,onImageLoad:(S,k)=>{n==null||n(S,k,w),y[k]=S},onError:S=>{l==null||l({...S,orientation:w})},onAllImagesLoad:(S,k)=>{y.length=0,S.forEach((A,H)=>{A&&(y[H]=A)}),C.errorCount=k.errorCount,C.errors=k.errors.map(A=>({...A,orientation:w})),r[v?"x":"y"]=!0,b()},autoplayReverse:O.autoplayReverse})};p?g({cdnPath:t,config:i,orientation:Y.X,loadedImages:c,loadStats:u,onFirstImageLoad:s}):r.x=!0,I?g({cdnPath:e,config:o,orientation:Y.Y,loadedImages:d,loadStats:f,onFirstImageLoad:p?void 0:s}):r.y=!0,!p&&!I&&b()},Ho=`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1052 156" aria-hidden="true">
  <path fill="currentColor" d="M409.9,145.6c-42.7-1.7-85.5-4.4-128.1-8.4c-21.3-2-42.6-4.3-63.8-7.1c-21.2-2.8-42.4-5.9-63.4-9.7c-21.1-3.8-42-8.2-62.7-13.7c-10.3-2.8-20.6-5.8-30.7-9.4c-10.1-3.5-20.1-7.6-29.5-12.7c-4.7-2.6-9.3-5.4-13.5-8.8c-2.1-1.7-4-3.6-5.8-5.6c-1.8-2-3.3-4.3-4.3-6.8c-1.1-2.5-1.6-5.3-1.4-8c0.2-2.7,1.1-5.4,2.4-7.7c2.7-4.8,6.7-8.5,11-11.7c8.6-6.4,18.4-10.9,28.3-15c9.9-4,20.1-7.3,30.4-10.3c-10.2,3.1-20.4,6.5-30.3,10.5c-9.8,4.1-19.6,8.7-28.1,15.1c-4.2,3.2-8.2,6.9-10.7,11.6c-1.2,2.3-2.1,4.8-2.3,7.5c-0.1,2.6,0.4,5.2,1.4,7.6c2.1,4.8,5.9,8.7,10,12.1c4.1,3.3,8.7,6.1,13.4,8.6c9.4,5,19.4,8.9,29.4,12.4c10.1,3.5,20.4,6.4,30.7,9.1c20.7,5.3,41.6,9.5,62.7,13.2c21,3.6,42.2,6.6,63.4,9.2c21.2,2.6,42.5,4.8,63.7,6.6c42.6,3.7,85.2,6,127.9,7.4L409.9,145.6z"/>
  <path fill="currentColor" d="M977.1,11.6c13.8,4.1,27.4,8.8,40.4,15.2c6.4,3.2,12.7,6.9,18.3,11.5c2.7,2.4,5.3,5,7.3,8c2,3,3.3,6.6,3.3,10.3c0,3.7-1.4,7.2-3.3,10.3c-2,3.1-4.5,5.7-7.3,8.1c-2.7,2.4-5.7,4.4-8.8,6.3c-1.6,0.9-3.1,1.9-4.7,2.7l-2.4,1.3l-2.4,1.2C1004.5,93,990.8,97.8,977,102c-6.9,2.1-13.8,4-20.8,5.8c-7,1.8-14,3.5-21,5c-14.1,3.1-28.2,5.9-42.4,8.3c-28.4,4.9-57,8.8-85.6,12c-57.3,6.4-114.8,10.2-172.4,12.2c-57.6,2-115.2,2.3-172.9,0.8l0.1-4c57.5,1.8,115.1,1.9,172.6,0.2c57.5-1.7,115-5.2,172.3-11.2c28.6-3.1,57.2-6.7,85.6-11.5c14.2-2.4,28.3-5,42.4-8.1c7-1.5,14-3.1,21-4.9c7-1.7,13.9-3.6,20.8-5.7c13.8-4.1,27.4-8.8,40.3-15.2l2.4-1.2l2.4-1.3c1.6-0.8,3.1-1.8,4.7-2.7c3-1.9,6-3.9,8.7-6.2c2.7-2.3,5.2-4.9,7.2-7.9c1.9-3,3.2-6.4,3.3-10c0-3.6-1.2-7-3.1-10c-1.9-3-4.4-5.6-7.1-8c-5.5-4.7-11.7-8.3-18.1-11.6C1004.5,20.6,990.8,15.8,977.1,11.6z"/>
  <g transform="translate(415, 136)">
    <path fill="currentColor" d="M18.1,11.2c-1.8,0-2.8-1.2-2.8-3V8c0.8-0.4,1.7-0.6,2.8-0.6c1.5,0,2.5,0.6,2.5,1.7C20.6,10.2,19.8,11.2,18.1,11.2L18.1,11.2z M18.3,5.7c-1.1,0-2,0.3-2.8,0.7c0.3-1.6,1.5-2.6,3.7-2.6c1.1,0,2.3,0.3,3.1,0.5V2.6c-0.8-0.3-1.9-0.5-3.1-0.5c-4.2,0-6.2,2.1-6.2,5.8c0,3.2,1.8,4.9,5.1,4.9c3.3,0,5-1.7,5-3.6C23,7,21.3,5.7,18.3,5.7L18.3,5.7z"/>
    <path fill="currentColor" d="M39.3,1.8c0.9,0,1.6,0.7,1.6,1.5c0,0.8-0.7,1.6-1.6,1.6c-0.8,0-1.6-0.7-1.6-1.6C37.8,2.5,38.5,1.8,39.3,1.8L39.3,1.8z M39.3,6.3c1.7,0,3.1-1.3,3.1-3c0-1.6-1.4-3-3.1-3c-1.7,0-3.1,1.3-3.1,3C36.2,5,37.6,6.3,39.3,6.3L39.3,6.3z"/>
    <path fill="currentColor" d="M30.3,3.8c2.1,0,2.9,1.4,2.9,3.6c0,2.2-0.8,3.6-2.9,3.6c-2.1,0-2.9-1.5-2.9-3.6C27.4,5.3,28.1,3.8,30.3,3.8L30.3,3.8z M30.2,12.8c3.9,0,5.2-2.6,5.2-5.4c0-2.8-1.3-5.3-5.2-5.3c-3.9,0-5.3,2.6-5.3,5.4C25,10.3,26.3,12.8,30.2,12.8L30.2,12.8z"/>
    <path fill="currentColor" d="M10.9,9.7c0-1.1-0.8-2-2.5-2.5c1.3-0.5,1.9-1.3,1.9-2.3c0-1.7-1.7-2.8-4.6-2.8c-1.5,0-2.7,0.3-3.6,0.8v1.7c0.9-0.4,2.3-0.7,3.4-0.7C7,3.9,8,4.4,8,5.1c0,0.8-0.7,1.3-2.4,1.3H4.3v1.6h1.3c2,0,2.9,0.8,2.9,1.6c0,0.8-1,1.5-2.8,1.5c-1.5,0-2.8-0.3-3.7-0.6v1.7c0.9,0.3,2.1,0.6,3.8,0.6C9.2,12.8,10.9,11.4,10.9,9.7"/>
  </g>
</svg>
`,Bo=t=>{const e=document.createElement("div");return e.innerHTML=Ho,e.style.bottom=`${t}%`,e.className="cloudimage-360-view-360-circle",e},Zo=`
<svg width="150" height="87" viewBox="0 0 150 87" xmlns="http://www.w3.org/2000/svg">
    <g clip-path="url(#clip0_751_188)">
    <g filter="url(#filter0_d_751_188)">
    <path d="M112.566 15.2227C112.598 15.706 112.529 16.1906 112.364 16.6458C112.198 17.101 111.94 17.5167 111.605 17.8665C111.27 18.2163 110.866 18.4925 110.418 18.6775C109.971 18.8626 109.489 18.9524 109.005 18.9412C108.532 18.955 108.06 18.871 107.621 18.6944C107.181 18.5178 106.782 18.2524 106.45 17.9148C106.117 17.5772 105.858 17.1747 105.688 16.7323C105.518 16.29 105.442 15.8174 105.463 15.344C105.437 14.8591 105.511 14.374 105.68 13.9188C105.849 13.4635 106.109 13.0477 106.445 12.697C106.781 12.3463 107.186 12.0681 107.633 11.8797C108.081 11.6912 108.562 11.5965 109.048 11.6013C111.213 11.5952 112.566 13.1299 112.566 15.2227ZM106.961 15.2895C106.961 16.7574 107.913 17.825 109.03 17.825C110.146 17.825 111.08 16.8059 111.08 15.2652C111.08 14.1551 110.473 12.7053 109.005 12.7053C107.537 12.7053 106.961 14.0884 106.961 15.2895Z" fill="white"/>
    <path fill-rule="evenodd" clip-rule="evenodd" d="M110.164 12.3811C110.552 12.5859 110.861 12.8886 111.093 13.2348C111.506 13.8535 111.681 14.6156 111.681 15.2652C111.681 16.5122 111.13 17.5742 110.261 18.0908C110.603 17.9385 110.912 17.7212 111.171 17.4507C111.448 17.1612 111.662 16.8172 111.799 16.4404C111.936 16.0637 111.993 15.6626 111.966 15.2626L111.965 15.2427V15.2227C111.965 14.3058 111.67 13.5543 111.182 13.0378C110.913 12.7532 110.573 12.5262 110.164 12.3811ZM108.002 18.1944C107.011 17.7212 106.36 16.5793 106.36 15.2895C106.36 14.6064 106.522 13.8357 106.931 13.2157C107.06 13.021 107.212 12.8427 107.389 12.6885C107.204 12.81 107.033 12.9523 106.88 13.1128C106.6 13.4042 106.384 13.7497 106.244 14.128C106.103 14.5062 106.042 14.9093 106.063 15.3122L106.065 15.3415L106.063 15.3708C106.046 15.7615 106.109 16.1517 106.25 16.5168C106.39 16.882 106.604 17.2143 106.878 17.493C107.153 17.7717 107.482 17.9908 107.845 18.1366C107.897 18.1574 107.949 18.1767 108.002 18.1944ZM109.05 11.0002C108.483 10.9951 107.922 11.1058 107.4 11.3256C106.877 11.5459 106.404 11.8711 106.011 12.2811C105.619 12.6912 105.314 13.1773 105.116 13.7096C104.922 14.2327 104.835 14.7894 104.861 15.3466C104.841 15.8928 104.931 16.4375 105.127 16.9478C105.327 17.4673 105.631 17.9401 106.022 18.3366C106.412 18.7331 106.88 19.0448 107.397 19.2522C107.908 19.4577 108.456 19.5564 109.007 19.5425C109.569 19.5533 110.128 19.448 110.648 19.2331C111.173 19.0162 111.646 18.6924 112.039 18.2823C112.432 17.8722 112.735 17.3848 112.929 16.8512C113.121 16.3239 113.202 15.7628 113.167 15.203C113.163 14.035 112.782 12.9803 112.056 12.2121C111.323 11.4362 110.28 10.9976 109.05 11.0002ZM107.934 13.8783C107.689 14.2501 107.562 14.7714 107.562 15.2895C107.562 16.5291 108.34 17.2239 109.03 17.2239C109.716 17.2239 110.479 16.5808 110.479 15.2652C110.479 14.8047 110.35 14.2869 110.093 13.9031C109.851 13.5403 109.507 13.3065 109.005 13.3065C108.495 13.3065 108.163 13.5319 107.934 13.8783Z" fill="white"/>
    <path d="M94.3617 40.718H95.5396C99.9046 40.718 103.369 37.1844 103.369 32.8193V19.5164C103.369 15.1514 99.8353 11.6871 95.5396 11.6871H94.3617C89.9967 11.6871 86.5324 15.2207 86.5324 19.5164V32.8193C86.4631 37.1844 90.0659 40.718 94.3617 40.718ZM91.1052 19.5164C91.1052 17.715 92.5602 16.26 94.3617 16.26H95.5396C97.341 16.26 98.796 17.715 98.796 19.5164V32.8193C98.796 34.6208 97.341 36.0758 95.5396 36.0758H94.3617C92.5602 36.0758 91.1052 34.6208 91.1052 32.8193V19.5164Z" fill="white"/>
    <path d="M74.6152 40.7179C79.2574 40.7179 82.9988 36.9765 82.9988 32.3343C82.9988 27.6922 79.2574 23.9507 74.6152 23.9507C73.9916 23.9507 73.2988 24.02 72.7445 24.1586C73.9223 21.4564 75.7931 18.685 78.7724 16.4678C79.8117 15.7749 80.0195 14.3199 79.2574 13.2806C78.5645 12.2413 77.1095 12.0335 76.0702 12.7956C67.8944 18.8928 66.578 28.0386 66.3701 31.2258C66.3701 31.2258 66.3701 31.2257 66.3701 31.295C66.3009 31.6415 66.3009 31.9879 66.3009 32.4036C66.2316 36.9072 70.0423 40.7179 74.6152 40.7179ZM74.6152 28.4543C76.6938 28.4543 78.3566 30.1865 78.3566 32.1958C78.3566 34.2051 76.6245 35.9372 74.6152 35.9372C72.6752 35.9372 71.0123 34.3436 70.8737 32.4729C70.8737 32.4036 70.943 32.265 70.943 32.1265C70.943 32.1265 70.943 31.9186 71.0123 31.5722C71.2202 29.84 72.8138 28.4543 74.6152 28.4543Z" fill="white"/>
    <path d="M54.3143 36.0758C52.2358 36.0758 50.5729 34.3436 50.5729 32.3343C50.5729 31.0179 49.5336 30.0479 48.2864 30.0479C46.97 30.0479 46 31.0872 46 32.3343C46 36.9765 49.7414 40.718 54.3836 40.718C59.0258 40.718 62.7672 36.9765 62.7672 32.1958C62.7672 29.84 61.7279 27.6229 60.0651 26.0986C61.7279 24.505 62.7672 22.4264 62.7672 20.0014C62.7672 15.3592 59.0258 11.6178 54.3836 11.6178C49.7414 11.6178 46 15.3592 46 20.0014C46 21.3178 47.0393 22.2879 48.2864 22.2879C49.6029 22.2879 50.5729 21.2486 50.5729 20.0014C50.5729 17.9228 52.305 16.26 54.3143 16.26C56.3236 16.26 58.0558 17.9921 58.0558 20.0014C58.0558 22.0107 56.3236 23.7429 54.3143 23.7429C52.9979 23.7429 52.0279 24.7822 52.0279 26.0293C52.0279 27.3458 53.0672 28.3157 54.3143 28.3157C56.3929 28.3157 58.0558 30.0479 58.0558 32.0572C58.1251 34.3436 56.4622 36.0758 54.3143 36.0758Z" fill="white"/>
    </g>
    <g filter="url(#filter1_d_751_188)">
    <path d="M26.8762 25.5149C27.5172 25.2883 28.1927 25.7659 28.1927 26.4458V33.5925C28.1927 34.0014 27.9493 34.3677 27.5768 34.5364C23.692 36.2966 3.80303 46.5259 37.3945 58.1537C37.3945 58.1537 57.0291 63.5205 76.923 63.6974C77.4752 63.7023 77.9231 63.2541 77.9231 62.7018V57.8317C77.9231 57.0995 78.6841 56.6156 79.3472 56.9261L103.851 68.4011C104.598 68.7507 104.624 69.8027 103.897 70.1897L79.3926 83.2187C78.7265 83.5728 77.9231 83.0901 77.9231 82.3357V75.7982C77.9231 75.2459 77.5039 74.797 76.9517 74.7892C68.3815 74.6673 6 72.8926 6 47.0574C6 47.0574 6 32.8966 26.8762 25.5149Z" fill="white"/>
    <path d="M111.768 58.2062C110.979 57.639 111.335 56.0078 112.271 55.7479C118.431 54.037 131.443 49.0118 131.443 41.6445C131.443 34.2279 126.608 31.5583 124.732 30.8016C124.308 30.6306 124 30.2281 124 29.7708V26.2189C124 25.5882 124.573 25.1253 125.18 25.2967C129.233 26.4408 142.336 31.2278 142.336 45.2982C142.336 45.2982 142.336 58.9459 122.524 65.4395C122.224 65.5379 121.887 65.4876 121.63 65.3031L111.768 58.2062Z" fill="white"/>
    </g>
    </g>
    <defs>
    <filter id="filter0_d_751_188" x="38" y="3" width="83.1749" height="45.718" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset/>
    <feGaussianBlur stdDeviation="4"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.133333 0 0 0 0 0.145098 0 0 0 0 0.160784 0 0 0 0.4 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_751_188"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_751_188" result="shape"/>
    </filter>
    <filter id="filter1_d_751_188" x="4" y="25.2607" width="140.336" height="63.0764" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
    <feFlood flood-opacity="0" result="BackgroundImageFix"/>
    <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
    <feOffset dy="3"/>
    <feGaussianBlur stdDeviation="1"/>
    <feComposite in2="hardAlpha" operator="out"/>
    <feColorMatrix type="matrix" values="0 0 0 0 0.301961 0 0 0 0 0.360784 0 0 0 0 0.454902 0 0 0 0.4 0"/>
    <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_751_188"/>
    <feBlend mode="normal" in="SourceGraphic" in2="effect1_dropShadow_751_188" result="shape"/>
    </filter>
    <clipPath id="clip0_751_188">
    <rect width="150" height="87" fill="white"/>
    </clipPath>
    </defs>
</svg>
`,Do=t=>{const e=document.createElement("div");return e.className="cloudimage-initial-icon",e.setAttribute("aria-label","360 degree view - drag to rotate"),t?(e.style.backgroundImage=`url('${t}')`,e.style.backgroundPosition="50% 50%",e.style.backgroundSize="contain",e.style.backgroundRepeat="no-repeat"):e.innerHTML=Zo,e},Vo=(t,e)=>{const{width:i,height:o}=e,s=document.createElement("canvas");return s.width=i,s.height=o,s.style.width="100%",s.style.height="auto",t.appendChild(s),s},Fo=()=>{const t=document.createElement("button");return t.className="cloudimage-360-button cloudimage-360-close-icon",t.setAttribute("aria-label","Close fullscreen"),t.setAttribute("type","button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M18 6 6 18"/><path d="m6 6 12 12"/></svg>',t},Wo=()=>{const t=document.createElement("button");return t.className="cloudimage-360-button cloudimage-360-fullscreen-button",t.setAttribute("aria-label","View fullscreen"),t.setAttribute("type","button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></svg>',t},Bt=t=>{const e=document.createElement("div");return e.className="cloudimage-360-icons-container",t.appendChild(e),e},No=t=>{const e=document.createElement("div");return e.className="cloudimage-360-inner-box",e.setAttribute("role","img"),e.setAttribute("aria-label","360 degree product view. Use mouse drag or arrow keys to rotate."),t.appendChild(e),e},_o=()=>{const t=document.createElement("button");return t.className="cloudimage-360-button cloudimage-360-magnifier-button",t.setAttribute("aria-label","Magnify image"),t.setAttribute("type","button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/><path d="M11 8v6"/><path d="M8 11h6"/></svg>',t},zo=()=>{const t=document.createElement("button");return t.className="cloudimage-360-button cloudimage-360-zoom-out-button",t.setAttribute("aria-label","Zoom out"),t.setAttribute("type","button"),t.innerHTML='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/><path d="M8 11h6"/></svg>',t},$o=t=>{const e=document.createElement("div");e.className="cloudimage-360-loader";const i=document.createElement("span");return i.className="percentage",i.innerText="0%",e.appendChild(i),t.appendChild(e),e},jo=t=>{const e=document.createElement("div");e.className="cloudimage-360-fullscreen-modal";const i=t.cloneNode();return i.style.width="100%",i.style.maxWidth="100%",i.style.height="100vh",i.style.maxHeight="100%",e.appendChild(i),window.document.body.appendChild(e),i},dt=(t,e)=>{const i=t.querySelector(e);i&&i.parentNode.removeChild(i)},Go=()=>{const t=document.createElement("div");return t.className="cloudimage-loading-spinner",t},Uo=()=>{const t=document.createElement("div");return t.className="cloudimage-360-transition-overlay",t},qo=t=>{const e=document.createElement("div");return e.className="cloudimage-360-hotspot-container",t.appendChild(e),e},Ko=t=>{const e=document.createElement("div");return e.className="cloudimage-360-sr-only",e.setAttribute("role","status"),e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),t.appendChild(e),e},Jo=(t,e)=>{t&&(t.textContent="",setTimeout(()=>{t.textContent=e},50))},Oi={drag:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M18 11V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2"/><path d="M14 10V4a2 2 0 0 0-2-2a2 2 0 0 0-2 2v2"/><path d="M10 10.5V6a2 2 0 0 0-2-2a2 2 0 0 0-2 2v8"/><path d="M18 8a2 2 0 1 1 4 0v6a8 8 0 0 1-8 8h-2c-2.8 0-4.5-.86-5.99-2.34l-3.6-3.6a2 2 0 0 1 2.83-2.82L7 15"/></svg>',swipe:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="m18 16 4-4-4-4"/><path d="m6 8-4 4 4 4"/><path d="M8 12h8"/></svg>',click:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="m9 9 5 12 1.8-5.2L21 14Z"/><path d="M7.2 2.2 8 5.1"/><path d="m5.1 8-2.9-.8"/><path d="M14 4.1 12 6"/><path d="m6 12-1.9 2"/></svg>',pinch:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><path d="M6 6l4 4"/><path d="M18 6l-4 4"/><path d="M6 18l4-4"/><path d="M18 18l-4-4"/><circle cx="12" cy="12" r="2"/></svg>',keys:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><rect width="20" height="16" x="2" y="4" rx="2"/><path d="m9 10 3 3 3-3"/></svg>',fullscreen:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></svg>'},Zt={drag:"Drag to rotate",swipe:"Swipe to rotate",click:"Click to zoom",dblclick:"Double-click to zoom",pinch:"Pinch to zoom",keys:"Use arrow keys",fullscreen:"Click for fullscreen"},Qo=(t,e={})=>{const i=document.createElement("div");i.className="cloudimage-360-hint-item";let o=Zt[t];return t==="click"&&e.pointerZoomTrigger==="dblclick"&&(o=Zt.dblclick),i.innerHTML=`
    ${Oi[t]}
    <span>${o}</span>
  `,i},Dt=(t,e=[],i={})=>{if(!e||e.length===0)return null;const o=document.createElement("div");o.className="cloudimage-360-hints-overlay",o.setAttribute("role","tooltip"),o.setAttribute("aria-label","Interaction hints");const s=document.createElement("div");return s.className="cloudimage-360-hints-container",e.forEach(n=>{Oi[n]&&s.appendChild(Qo(n,i))}),o.appendChild(s),t.appendChild(o),o},Vt=(t,e)=>e?["swipe","pinch"]:["drag","click"],Ft=t=>{t&&t.classList.add("visible")},es=t=>{t&&(t.classList.remove("visible"),t.classList.add("hiding"),setTimeout(()=>{t.classList.remove("hiding")},300))},ts=t=>{if(!t||typeof t!="object")return null;const e=Object.keys(t).map(o=>parseInt(o,10)).filter(o=>!isNaN(o)).sort((o,s)=>o-s);if(e.length===0)return null;const i=Math.floor(e.length/2);return e[i]},is=t=>{const e=[];return!t||!Array.isArray(t)||t.forEach((i,o)=>{const s=ts(i.positions);s!==null&&e.push({id:i.id||`hotspot-${o}`,frame:s,label:i.label||null})}),e},os=400,ss=(t,e,i,o)=>{const s=document.createElement("button");s.className="cloudimage-360-hotspot-timeline-dot",s.setAttribute("type","button"),s.setAttribute("aria-label",o||`Go to hotspot at frame ${e+1}`),s.setAttribute("data-frame",e.toString()),s.setAttribute("data-hotspot-id",t);const n=i>1?e/(i-1)*100:0;if(s.style.left=`${n}%`,o){const a=document.createElement("span");a.className="cloudimage-360-hotspot-timeline-tooltip",a.textContent=o,s.appendChild(a);let l=null;s.addEventListener("mouseenter",()=>{l=setTimeout(()=>{a.classList.add("visible")},os)}),s.addEventListener("mouseleave",()=>{l&&(clearTimeout(l),l=null),a.classList.remove("visible")}),s.addEventListener("click",()=>{l&&(clearTimeout(l),l=null),a.classList.remove("visible")})}return s},ns=(t,e,i)=>{const o=is(i);if(o.length===0)return null;const s=document.createElement("div");s.className="cloudimage-360-hotspot-timeline",s.setAttribute("role","navigation"),s.setAttribute("aria-label","Hotspot timeline navigation");const n=document.createElement("div");n.className="cloudimage-360-hotspot-timeline-track";const a=document.createElement("div");return a.className="cloudimage-360-hotspot-timeline-indicator",o.forEach(({id:l,frame:r,label:c})=>{const d=ss(l,r,e,c);n.appendChild(d)}),n.appendChild(a),s.appendChild(n),t.appendChild(s),{element:s,indicator:a,hotspotFrames:o}},rs=(t,e,i)=>{if(!t)return;const o=i>1?e/(i-1)*100:0;t.style.left=`${o}%`},as=t=>{t&&t.classList.add("visible")},ls=t=>{t&&t.classList.remove("visible")},ht=(t,e=[])=>{if(!t)return e;if(Array.isArray(t))return t;try{return JSON.parse(t)}catch(i){return console.warn("CloudImage 360: Failed to parse JSON:",i.message),e}},cs=(t,e)=>{const[i,o]=t.split("?");if(!o)return t;const s=new RegExp(`^${e}=|&${e}=`),n=o.split("&").filter(a=>!s.test(a)).join("&");return n?`${i}?${n}`:i},ds=t=>{const e=cs(t,"width"),i=e.includes("?")?"&":"?";return`${e}${i}width=${150*devicePixelRatio}`},hs=t=>{const e={root:null,rootMargin:"0px",threshold:.1},i=s=>{const n=s.getAttribute("data-src");n&&(s.src=n)};new IntersectionObserver((s,n)=>{s.forEach(a=>{a.isIntersecting&&(i(a.target),n.unobserve(a.target))})},e).observe(t)},us=(t,e)=>{const i=Ei(1,e);return t.replace("{index}",i)},ps=(t,e)=>{const[i]=t,o=/(https?):\/\//i.test(i);return Re({...e,folder:o?"":e.folder,filename:i})},ms=(t,e)=>{const{imageList:i,indexZeroBase:o}=e;if(i.length){const s=ht(i,null);if(s)return ps(s,e)}return us(t,o)},Wt=(t,e,i)=>{const o=new Image;return o.setAttribute(e?"data-src":"src",t),o.className=i,o.style.cssText=`
    position: ${e?"absolute":"static"};
    width: 100%;
    inset: 0;
    height: 100%;
    object-fit: contain;
    object-position: center;
    filter: blur(10px);
  `,o},Nt=(t,e,i)=>{const{innerBox:o,imageList:s,lazyload:n}=e||{},[a]=s,l=a||ms(t,e),r=ds(l),c=Wt(r,n,"cloudimage-lazy"),d=Wt(r,!1,"cloudimage-360-placeholder"),u=f=>{dt(o,".cloudimage-lazy"),i&&i({event:f,width:c.width,height:c.height,naturalWidth:c.naturalWidth,naturalHeight:c.naturalHeight,src:r})};c.onload=u,o.appendChild(c),o.appendChild(d),hs(c)},fs=(t,e,i)=>{const o=new Image;o.src=t,o.onload=s=>{e&&e({event:s,width:o.width,height:o.height,naturalWidth:o.naturalWidth,naturalHeight:o.naturalHeight,src:t})},o.onerror=s=>{const n=new Error(`Failed to load image: ${t}`);n.url=t,n.event=s,i?i(n):console.error(n.message)}},gs=(t,e)=>{const i=e.getBoundingClientRect(),o=t.touches?t.touches[0].clientX:t.clientX,s=t.touches?t.touches[0].clientY:t.clientY;return{x:o-i.left,y:s-i.top}},at=(t,e,i)=>{const{container:o,w:s,h:n,zoom:a,bw:l,offsetX:r,offsetY:c}=e,d=gs(t,o);let u=d.x,f=d.y;u=Math.max(s/a,Math.min(u,o.offsetWidth-s/a)),f=Math.max(n/a,Math.min(f,o.offsetHeight-n/a)),i.style.left=`${u-s}px`,i.style.top=`${f-n}px`;const p=(u-r)*a-s+l,I=(f-c)*a-n+l;i.style.backgroundPosition=`-${p}px -${I}px`},vs=(t,e,i,o,s,n)=>{const{x:a=0,y:l=0}=i||{},r=(e.offsetWidth-a*2)*n,c=(e.offsetHeight-l*2)*n;if(!s)return;s.setAttribute("class","cloudimage-360-img-magnifier-glass"),e.prepend(s),s.style.backgroundImage=`url('${o.src}')`,s.style.backgroundSize=`${r}px ${c}px`;const d=3,u=s.offsetWidth/2,f=s.offsetHeight/2,p={container:e,w:u,h:f,zoom:n,bw:d,offsetX:a,offsetY:l};at(t,p,s);const I=g=>{at(g,p,s)},b=g=>{g.preventDefault(),at(g,p,s)};s.addEventListener("mousemove",I),e.addEventListener("mousemove",I),e.addEventListener("touchmove",b)},ys=(t,e,i)=>{const{clientX:o,clientY:s}=t,n=e.getBoundingClientRect(),a=e.width/(n.width*i),l=e.height/(n.height*i),r=(o-n.left)*a,c=(s-n.top)*l;return{offsetX:r,offsetY:c}},bs=(t,e,i)=>{const o=t/i,s=e/i;return{zoomedWidth:o,zoomedHeight:s}},ws=({pointerX:t,pointerY:e,imageData:i,zoomedWidth:o,zoomedHeight:s,drawWidth:n,drawHeight:a})=>{const{naturalWidth:l,naturalHeight:r}=i;let c=t/n*l-o/2,d=e/a*r-s/2;const u=Math.max(0,l-o),f=Math.max(0,r-s);return c=Math.max(0,Math.min(c,u)),d=Math.max(0,Math.min(d,f)),{zoomOffsetX:c,zoomOffsetY:d}},_t=(t,{bottom:e,top:i})=>{t?e():i()},zt=(t,{left:e,right:i})=>{t?e():i()},Is=({autoplayBehavior:t,spinY:e,reversed:i,loopTriggers:o})=>{switch(t){case B.SPIN_XY:case B.SPIN_YX:e?_t(i,o):zt(i,o);break;case B.SPIN_Y:_t(i,o);break;case B.SPIN_X:default:zt(i,o)}},xs=({autoplayBehavior:t,activeImageX:e,activeImageY:i,amountX:o,amountY:s,autoplayReverse:n})=>{const a=(l,r)=>{const c=r-1;return n?l===0:l===c};switch(t){case B.SPIN_XY:case B.SPIN_Y:return a(i,s);case B.SPIN_X:case B.SPIN_YX:default:return a(e,o)}},Cs=({autoplayBehavior:t,activeImageX:e,activeImageY:i,amountX:o,amountY:s,autoplayReverse:n,spinDirection:a})=>{const l=e===(n?0:o-1),r=i===(n?0:s-1);return t===B.SPIN_XY||t===B.SPIN_YX?a==="x"&&l||a==="y"&&r:!1},Es=(t,e,i)=>{if(!i)return"x";if(!e)return"y";switch(t){case B.SPIN_XY:return"x";case B.SPIN_YX:return"y";case B.SPIN_Y:return"y";case B.SPIN_X:default:return"x"}},Os=t=>t==="x"?"y":"x",$t=(t,e)=>{const i=[...go];return e?[...i,...vo].includes(t):i.includes(t)},jt=({deltaX:t,deltaY:e,reversed:i,allowSpinX:o,allowSpinY:s,threshold:n=0})=>{const a=o&&!s||s&&!o?0:n,l=Math.abs(t),r=Math.abs(e);return o&&l-a>r?i?t>0?"left":"right":t>0?"right":"left":s&&r-a>l?i?e>0?"up":"down":e>0?"down":"up":null},Ss=()=>"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0,ks=(t,e=150)=>{let i;return function(...o){clearTimeout(i),i=setTimeout(()=>{t.apply(this,o)},e)}},Si="KGZ1bmN0aW9uKCl7InVzZSBzdHJpY3QiO2NvbnN0IHY9KHQsYSxlKT0+e2NvbnN0IHM9dC9lLG49YS9lO3JldHVybnt6b29tZWRXaWR0aDpzLHpvb21lZEhlaWdodDpufX0sej0oe3BvaW50ZXJYOnQscG9pbnRlclk6YSxpbWFnZURhdGE6ZSx6b29tZWRXaWR0aDpzLHpvb21lZEhlaWdodDpuLGRyYXdXaWR0aDppLGRyYXdIZWlnaHQ6Y30pPT57Y29uc3R7bmF0dXJhbFdpZHRoOmcsbmF0dXJhbEhlaWdodDp1fT1lO2xldCBmPXQvaSpnLXMvMixtPWEvYyp1LW4vMjtjb25zdCB4PU1hdGgubWF4KDAsZy1zKSxPPU1hdGgubWF4KDAsdS1uKTtyZXR1cm4gZj1NYXRoLm1heCgwLE1hdGgubWluKGYseCkpLG09TWF0aC5tYXgoMCxNYXRoLm1pbihtLE8pKSx7em9vbU9mZnNldFg6Zix6b29tT2Zmc2V0WTptfX07bGV0IG8saCxyLGQsbCx3O3NlbGYub25tZXNzYWdlPWFzeW5jIHQ9Pntjb25zdHthY3Rpb246YSxvZmZzY3JlZW46ZSxkZXZpY2VQaXhlbFJhdGlvOnMsaW1hZ2VEYXRhOm4sem9vbVNjYWxlOmkscG9pbnRlclg6Yyxwb2ludGVyWTpnLGltYWdlQXNwZWN0UmF0aW86dSxjb250YWluZXJXaWR0aDpmLGNvbnRhaW5lckhlaWdodDptfT10LmRhdGE7c3dpdGNoKGEpe2Nhc2UiaW5pdENhbnZhcyI6QyhlLHMpO2JyZWFrO2Nhc2UiYWRhcHRDYW52YXNTaXplIjpwKHUsZixtKTticmVhaztjYXNlImRyYXdJbWFnZU9uQ2FudmFzIjpJKG4saSxjLGcpO2JyZWFrfX07Y29uc3QgQz0odCxhKT0+e289dCxoPW8uZ2V0Q29udGV4dCgiMmQiKSxyPWF9LHA9KHQsYSxlKT0+e2NvbnN0IHM9YS9lO3c9dD5zLG8ud2lkdGg9YSpyLG8uaGVpZ2h0PWUqcixoLnNjYWxlKHIsciksdz8oZD1hLGw9YS90KToobD1lLGQ9ZSp0KSxoLmltYWdlU21vb3RoaW5nRW5hYmxlZD0hMCxoLmltYWdlU21vb3RoaW5nUXVhbGl0eT0iaGlnaCJ9LEk9KHQ9e30sYT0xLGU9MCxzPTApPT57Y29uc3R7Yml0bWFwSW1hZ2U6bn09dDtpZighb3x8IW4pcmV0dXJuO2xldCBpLGM7aWYodz8oaT0wLGM9KG8uaGVpZ2h0L3ItbCkvMik6KGk9KG8ud2lkdGgvci1kKS8yLGM9MCksaC5jbGVhclJlY3QoMCwwLG8ud2lkdGgsby5oZWlnaHQpLGEhPT0xKXtjb25zdHtuYXR1cmFsV2lkdGg6ZyxuYXR1cmFsSGVpZ2h0OnV9PXQse3pvb21lZFdpZHRoOmYsem9vbWVkSGVpZ2h0Om19PXYoZyx1LGEpLHt6b29tT2Zmc2V0WDp4LHpvb21PZmZzZXRZOk99PXooe3BvaW50ZXJYOmUscG9pbnRlclk6cyxpbWFnZURhdGE6dCx6b29tZWRXaWR0aDpmLHpvb21lZEhlaWdodDptLGRyYXdXaWR0aDpkLGRyYXdIZWlnaHQ6bH0pO2guZHJhd0ltYWdlKG4seCxPLGYsbSxpLGMsZCxsKX1lbHNlIGguZHJhd0ltYWdlKG4saSxjLGQsbCl9fSkoKTsK",Ls=t=>Uint8Array.from(atob(t),e=>e.charCodeAt(0)),Gt=typeof self<"u"&&self.Blob&&new Blob([Ls(Si)],{type:"text/javascript;charset=utf-8"});function As(t){let e;try{if(e=Gt&&(self.URL||self.webkitURL).createObjectURL(Gt),!e)throw"";const i=new Worker(e,{name:t==null?void 0:t.name});return i.addEventListener("error",()=>{(self.URL||self.webkitURL).revokeObjectURL(e)}),i}catch{return new Worker("data:text/javascript;base64,"+Si,{name:t==null?void 0:t.name})}finally{e&&(self.URL||self.webkitURL).revokeObjectURL(e)}}class Ts{constructor(){this.canvas=null,this.ctx=null,this.dpr=1,this.drawWidth=0,this.drawHeight=0,this.wideImage=!1}postMessage(e){const{action:i,offscreen:o,devicePixelRatio:s,imageData:n,zoomScale:a,pointerX:l,pointerY:r,imageAspectRatio:c,containerWidth:d,containerHeight:u}=e;switch(i){case"initCanvas":this.initCanvas(o,s);break;case"adaptCanvasSize":this.adaptCanvasSize(c,d,u);break;case"drawImageOnCanvas":this.drawImageOnCanvas(n,a,l,r);break}}terminate(){var e,i;this.ctx&&this.ctx.clearRect(0,0,((e=this.canvas)==null?void 0:e.width)||0,((i=this.canvas)==null?void 0:i.height)||0),this.canvas=null,this.ctx=null}initCanvas(e,i){this.canvas=e,this.ctx=e.getContext("2d"),this.dpr=i}adaptCanvasSize(e,i,o){if(!this.canvas||!this.ctx)return;const s=i/o;this.wideImage=e>s,this.canvas.width=i*this.dpr,this.canvas.height=o*this.dpr,this.ctx.scale(this.dpr,this.dpr),this.wideImage?(this.drawWidth=i,this.drawHeight=i/e):(this.drawHeight=o,this.drawWidth=o*e),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high"}drawImageOnCanvas(e={},i=1,o=0,s=0){const{bitmapImage:n}=e;if(!this.canvas||!this.ctx||!n)return;let a,l;if(this.wideImage?(a=0,l=(this.canvas.height/this.dpr-this.drawHeight)/2):(a=(this.canvas.width/this.dpr-this.drawWidth)/2,l=0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),i!==1){const{naturalWidth:r,naturalHeight:c}=e,{zoomedWidth:d,zoomedHeight:u}=bs(r,c,i),{zoomOffsetX:f,zoomOffsetY:p}=ws({pointerX:o,pointerY:s,imageData:e,zoomedWidth:d,zoomedHeight:u,drawWidth:this.drawWidth,drawHeight:this.drawHeight});this.ctx.drawImage(n,f,p,d,u,a,l,this.drawWidth,this.drawHeight)}else this.ctx.drawImage(n,a,l,this.drawWidth,this.drawHeight)}}const Rs=new Set(["p","span","div","br","hr","strong","em","b","i","u","s","h1","h2","h3","h4","h5","h6","ul","ol","li","a","img","button","table","thead","tbody","tr","th","td","blockquote","pre","code","label","input","select","option","textarea","svg","path","circle","rect","line","polyline","polygon","ellipse","g","text","tspan","defs","use","symbol","clippath","mask","lineargradient","radialgradient","stop"]),Ut={a:["href","title","target","rel"],img:["src","alt","title","width","height"],button:["type","disabled","name","value"],input:["type","name","value","placeholder","disabled","readonly","checked","min","max","step"],select:["name","disabled","multiple"],option:["value","disabled","selected"],textarea:["name","placeholder","disabled","readonly","rows","cols"],label:["for"],svg:["viewbox","width","height","fill","stroke","xmlns","preserveaspectratio"],path:["d","fill","stroke","stroke-width","stroke-linecap","stroke-linejoin","transform"],circle:["cx","cy","r","fill","stroke","stroke-width"],rect:["x","y","width","height","rx","ry","fill","stroke","stroke-width"],line:["x1","y1","x2","y2","stroke","stroke-width"],polyline:["points","fill","stroke","stroke-width"],polygon:["points","fill","stroke","stroke-width"],ellipse:["cx","cy","rx","ry","fill","stroke","stroke-width"],g:["transform","fill","stroke"],text:["x","y","dx","dy","text-anchor","fill","font-size","font-family","font-weight"],tspan:["x","y","dx","dy"],use:["href","xlink:href","x","y","width","height"],lineargradient:["id","x1","y1","x2","y2","gradientunits"],radialgradient:["id","cx","cy","r","fx","fy","gradientunits"],stop:["offset","stop-color","stop-opacity"],clippath:["id"],mask:["id"],"*":["class","id","style"]},Ps=[/javascript:/gi,/vbscript:/gi,/data:/gi,/on\w+\s*=/gi],Ms=t=>{if(typeof t!="string")return"";const e=document.createElement("template");e.innerHTML=t;const i=o=>{if(Array.from(o.childNodes).forEach(i),o.nodeType===Node.ELEMENT_NODE){const n=o.tagName.toLowerCase();if(!Rs.has(n)){if(n==="script"||n==="style"){o.remove();return}const r=document.createTextNode(o.textContent);o.parentNode.replaceChild(r,o);return}const a=[...Ut[n]||[],...Ut["*"]||[]];if(Array.from(o.attributes).forEach(r=>{const c=r.name.toLowerCase();if(c.startsWith("on")){o.removeAttribute(r.name);return}if(!a.includes(c)){o.removeAttribute(r.name);return}let d=r.value;Ps.forEach(u=>{u.test(d)&&o.removeAttribute(r.name)})}),n==="a"){const r=o.getAttribute("href");r&&(/^(https?:|mailto:|tel:|#|\/)/i.test(r.trim())||o.removeAttribute("href")),o.getAttribute("target")==="_blank"&&o.setAttribute("rel","noopener noreferrer")}if(n==="img"){const r=o.getAttribute("src");r&&(/^(https?:|\/|data:image\/)/i.test(r.trim())||o.removeAttribute("src"))}}};return i(e.content),e.innerHTML},Xs=t=>t==="y"?Y.Y:Y.X,Ys=(t,e,i)=>t.filter(o=>Xs(o.orientation)===i&&e in o.positions),Hs=(t,e,i)=>{const o=document.createElement("button");if(o.id=t,o.className="cloudimage-360-hotspot cloudimage-360-hotspot--pulse",o.dataset.hotspotId=t,o.setAttribute("type","button"),o.setAttribute("aria-label",e||`Hotspot ${t}`),o.setAttribute("aria-haspopup","true"),o.setAttribute("aria-expanded","false"),i==="dot-label"&&e){o.classList.add("cloudimage-360-hotspot--dot-label");const s=document.createElement("span");s.className="cloudimage-360-hotspot-label",s.textContent=e,o.appendChild(s)}return o},Bs=t=>{const e=Object.entries(t).sort(([n],[a])=>Number(n)-Number(a));let i=null,o=null;const s={};for(const[n,a]of e)if(!a)s[n]={x:i,y:o};else{const{x:l,y:r}=a;l!=null&&(i=l),r!=null&&(o=r),s[n]={x:l||i,y:r||o}}return s},Zs=t=>({placement:"top",modifiers:[{name:"offset",options:{offset:[0,10]}},{name:"preventOverflow",options:{boundary:t}},{name:"flip",options:{boundary:t,fallbackPlacements:["bottom","right","left"]}}]}),Ds=(t,e)=>{const i=document.createElement("div");return i.className="cloudimage-360-popper",i.id=`cloudimage-360-popper-${e}`,i.dataset.popperId=e,i.setAttribute("role","tooltip"),i.setAttribute("aria-hidden","false"),typeof t=="string"&&/<\/?[a-z][\s\S]*>/i.test(t)?i.innerHTML=Ms(t):i.textContent=t,document.body.appendChild(i),i},Vs=t=>{const e=[...t];return e.forEach((i,o)=>{const s={...Bs(i.positions)};e[o].initialPositions=s,e[o].positions=s}),e},Fs=({newWidth:t,newHeight:e,initialContainerSize:i,imageAspectRatio:o,hotspotsConfig:s})=>{const[n,a]=i;let l=t,r=e,c=0,d=0;const u=t/e;o>u?(r=t/o,d=(e-r)/2):(l=e*o,c=(t-l)/2);const p=l/n,I=r/a;return s.map(b=>{const g={};return Object.entries(b.initialPositions).forEach(([E,O])=>{g[E]={x:O.x*p+c,y:O.y*I+d}}),{...b,positions:g}})};function Ws(t){const e=[];t.image&&e.push(`<div class="ci360-popper-image-wrapper"><img class="ci360-popper-image" src="${lt(t.image)}" alt="${lt(t.title||"")}"></div>`);const i=[];if(t.title&&i.push(`<h3 class="ci360-popper-title">${Ae(t.title)}</h3>`),t.originalPrice||t.price){let o="";t.originalPrice&&(o+=`<span class="ci360-popper-original-price">${Ae(t.originalPrice)}</span>`),t.price&&(o+=`<span class="ci360-popper-price">${Ae(t.price)}</span>`),i.push(`<div class="ci360-popper-price-row">${o}</div>`)}if(t.description&&i.push(`<p class="ci360-popper-description">${Ae(t.description)}</p>`),t.url&&Ns(t.url)){const o=t.ctaText||"View details";i.push(`<a class="ci360-popper-cta" href="${lt(t.url)}">${Ae(String(o))}</a>`)}return i.length>0&&e.push(`<div class="ci360-popper-body">${i.join("")}</div>`),e.join("")}function qt(t){return t.content?t.content:t.data?Ws(t.data):""}function Ae(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")}function lt(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ns(t){const e=t.replace(/[\s\x00-\x1f]/g,"");return/^https?:\/\//i.test(e)||/^\/(?!\/)/.test(e)||/^#/.test(e)}var D="top",_="bottom",z="right",V="left",vt="auto",Be=[D,_,z,V],be="start",Ye="end",_s="clippingParents",ki="viewport",Te="popper",zs="reference",Kt=Be.reduce(function(t,e){return t.concat([e+"-"+be,e+"-"+Ye])},[]),Li=[].concat(Be,[vt]).reduce(function(t,e){return t.concat([e,e+"-"+be,e+"-"+Ye])},[]),$s="beforeRead",js="read",Gs="afterRead",Us="beforeMain",qs="main",Ks="afterMain",Js="beforeWrite",Qs="write",en="afterWrite",tn=[$s,js,Gs,Us,qs,Ks,Js,Qs,en];function U(t){return t?(t.nodeName||"").toLowerCase():null}function W(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function le(t){var e=W(t).Element;return t instanceof e||t instanceof Element}function N(t){var e=W(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function yt(t){if(typeof ShadowRoot>"u")return!1;var e=W(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function on(t){var e=t.state;Object.keys(e.elements).forEach(function(i){var o=e.styles[i]||{},s=e.attributes[i]||{},n=e.elements[i];!N(n)||!U(n)||(Object.assign(n.style,o),Object.keys(s).forEach(function(a){var l=s[a];l===!1?n.removeAttribute(a):n.setAttribute(a,l===!0?"":l)}))})}function sn(t){var e=t.state,i={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,i.popper),e.styles=i,e.elements.arrow&&Object.assign(e.elements.arrow.style,i.arrow),function(){Object.keys(e.elements).forEach(function(o){var s=e.elements[o],n=e.attributes[o]||{},a=Object.keys(e.styles.hasOwnProperty(o)?e.styles[o]:i[o]),l=a.reduce(function(r,c){return r[c]="",r},{});!N(s)||!U(s)||(Object.assign(s.style,l),Object.keys(n).forEach(function(r){s.removeAttribute(r)}))})}}const nn={name:"applyStyles",enabled:!0,phase:"write",fn:on,effect:sn,requires:["computeStyles"]};function G(t){return t.split("-")[0]}var ae=Math.max,Ke=Math.min,we=Math.round;function ut(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function Ai(){return!/^((?!chrome|android).)*safari/i.test(ut())}function Ie(t,e,i){e===void 0&&(e=!1),i===void 0&&(i=!1);var o=t.getBoundingClientRect(),s=1,n=1;e&&N(t)&&(s=t.offsetWidth>0&&we(o.width)/t.offsetWidth||1,n=t.offsetHeight>0&&we(o.height)/t.offsetHeight||1);var a=le(t)?W(t):window,l=a.visualViewport,r=!Ai()&&i,c=(o.left+(r&&l?l.offsetLeft:0))/s,d=(o.top+(r&&l?l.offsetTop:0))/n,u=o.width/s,f=o.height/n;return{width:u,height:f,top:d,right:c+u,bottom:d+f,left:c,x:c,y:d}}function bt(t){var e=Ie(t),i=t.offsetWidth,o=t.offsetHeight;return Math.abs(e.width-i)<=1&&(i=e.width),Math.abs(e.height-o)<=1&&(o=e.height),{x:t.offsetLeft,y:t.offsetTop,width:i,height:o}}function Ti(t,e){var i=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(i&&yt(i)){var o=e;do{if(o&&t.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function te(t){return W(t).getComputedStyle(t)}function rn(t){return["table","td","th"].indexOf(U(t))>=0}function se(t){return((le(t)?t.ownerDocument:t.document)||window.document).documentElement}function et(t){return U(t)==="html"?t:t.assignedSlot||t.parentNode||(yt(t)?t.host:null)||se(t)}function Jt(t){return!N(t)||te(t).position==="fixed"?null:t.offsetParent}function an(t){var e=/firefox/i.test(ut()),i=/Trident/i.test(ut());if(i&&N(t)){var o=te(t);if(o.position==="fixed")return null}var s=et(t);for(yt(s)&&(s=s.host);N(s)&&["html","body"].indexOf(U(s))<0;){var n=te(s);if(n.transform!=="none"||n.perspective!=="none"||n.contain==="paint"||["transform","perspective"].indexOf(n.willChange)!==-1||e&&n.willChange==="filter"||e&&n.filter&&n.filter!=="none")return s;s=s.parentNode}return null}function Ze(t){for(var e=W(t),i=Jt(t);i&&rn(i)&&te(i).position==="static";)i=Jt(i);return i&&(U(i)==="html"||U(i)==="body"&&te(i).position==="static")?e:i||an(t)||e}function wt(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Pe(t,e,i){return ae(t,Ke(e,i))}function ln(t,e,i){var o=Pe(t,e,i);return o>i?i:o}function Ri(){return{top:0,right:0,bottom:0,left:0}}function Pi(t){return Object.assign({},Ri(),t)}function Mi(t,e){return e.reduce(function(i,o){return i[o]=t,i},{})}var cn=function(e,i){return e=typeof e=="function"?e(Object.assign({},i.rects,{placement:i.placement})):e,Pi(typeof e!="number"?e:Mi(e,Be))};function dn(t){var e,i=t.state,o=t.name,s=t.options,n=i.elements.arrow,a=i.modifiersData.popperOffsets,l=G(i.placement),r=wt(l),c=[V,z].indexOf(l)>=0,d=c?"height":"width";if(!(!n||!a)){var u=cn(s.padding,i),f=bt(n),p=r==="y"?D:V,I=r==="y"?_:z,b=i.rects.reference[d]+i.rects.reference[r]-a[r]-i.rects.popper[d],g=a[r]-i.rects.reference[r],E=Ze(n),O=E?r==="y"?E.clientHeight||0:E.clientWidth||0:0,w=b/2-g/2,y=u[p],C=O-f[d]-u[I],m=O/2-f[d]/2+w,v=Pe(y,m,C),x=r;i.modifiersData[o]=(e={},e[x]=v,e.centerOffset=v-m,e)}}function hn(t){var e=t.state,i=t.options,o=i.element,s=o===void 0?"[data-popper-arrow]":o;s!=null&&(typeof s=="string"&&(s=e.elements.popper.querySelector(s),!s)||Ti(e.elements.popper,s)&&(e.elements.arrow=s))}const un={name:"arrow",enabled:!0,phase:"main",fn:dn,effect:hn,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xe(t){return t.split("-")[1]}var pn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function mn(t,e){var i=t.x,o=t.y,s=e.devicePixelRatio||1;return{x:we(i*s)/s||0,y:we(o*s)/s||0}}function Qt(t){var e,i=t.popper,o=t.popperRect,s=t.placement,n=t.variation,a=t.offsets,l=t.position,r=t.gpuAcceleration,c=t.adaptive,d=t.roundOffsets,u=t.isFixed,f=a.x,p=f===void 0?0:f,I=a.y,b=I===void 0?0:I,g=typeof d=="function"?d({x:p,y:b}):{x:p,y:b};p=g.x,b=g.y;var E=a.hasOwnProperty("x"),O=a.hasOwnProperty("y"),w=V,y=D,C=window;if(c){var m=Ze(i),v="clientHeight",x="clientWidth";if(m===W(i)&&(m=se(i),te(m).position!=="static"&&l==="absolute"&&(v="scrollHeight",x="scrollWidth")),m=m,s===D||(s===V||s===z)&&n===Ye){y=_;var S=u&&m===C&&C.visualViewport?C.visualViewport.height:m[v];b-=S-o.height,b*=r?1:-1}if(s===V||(s===D||s===_)&&n===Ye){w=z;var k=u&&m===C&&C.visualViewport?C.visualViewport.width:m[x];p-=k-o.width,p*=r?1:-1}}var A=Object.assign({position:l},c&&pn),H=d===!0?mn({x:p,y:b},W(i)):{x:p,y:b};if(p=H.x,b=H.y,r){var P;return Object.assign({},A,(P={},P[y]=O?"0":"",P[w]=E?"0":"",P.transform=(C.devicePixelRatio||1)<=1?"translate("+p+"px, "+b+"px)":"translate3d("+p+"px, "+b+"px, 0)",P))}return Object.assign({},A,(e={},e[y]=O?b+"px":"",e[w]=E?p+"px":"",e.transform="",e))}function fn(t){var e=t.state,i=t.options,o=i.gpuAcceleration,s=o===void 0?!0:o,n=i.adaptive,a=n===void 0?!0:n,l=i.roundOffsets,r=l===void 0?!0:l,c={placement:G(e.placement),variation:xe(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:s,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,Qt(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:a,roundOffsets:r})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,Qt(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:r})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const gn={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn,data:{}};var Ge={passive:!0};function vn(t){var e=t.state,i=t.instance,o=t.options,s=o.scroll,n=s===void 0?!0:s,a=o.resize,l=a===void 0?!0:a,r=W(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return n&&c.forEach(function(d){d.addEventListener("scroll",i.update,Ge)}),l&&r.addEventListener("resize",i.update,Ge),function(){n&&c.forEach(function(d){d.removeEventListener("scroll",i.update,Ge)}),l&&r.removeEventListener("resize",i.update,Ge)}}const yn={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:vn,data:{}};var bn={left:"right",right:"left",bottom:"top",top:"bottom"};function Ue(t){return t.replace(/left|right|bottom|top/g,function(e){return bn[e]})}var wn={start:"end",end:"start"};function ei(t){return t.replace(/start|end/g,function(e){return wn[e]})}function It(t){var e=W(t),i=e.pageXOffset,o=e.pageYOffset;return{scrollLeft:i,scrollTop:o}}function xt(t){return Ie(se(t)).left+It(t).scrollLeft}function In(t,e){var i=W(t),o=se(t),s=i.visualViewport,n=o.clientWidth,a=o.clientHeight,l=0,r=0;if(s){n=s.width,a=s.height;var c=Ai();(c||!c&&e==="fixed")&&(l=s.offsetLeft,r=s.offsetTop)}return{width:n,height:a,x:l+xt(t),y:r}}function xn(t){var e,i=se(t),o=It(t),s=(e=t.ownerDocument)==null?void 0:e.body,n=ae(i.scrollWidth,i.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),a=ae(i.scrollHeight,i.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-o.scrollLeft+xt(t),r=-o.scrollTop;return te(s||i).direction==="rtl"&&(l+=ae(i.clientWidth,s?s.clientWidth:0)-n),{width:n,height:a,x:l,y:r}}function Ct(t){var e=te(t),i=e.overflow,o=e.overflowX,s=e.overflowY;return/auto|scroll|overlay|hidden/.test(i+s+o)}function Xi(t){return["html","body","#document"].indexOf(U(t))>=0?t.ownerDocument.body:N(t)&&Ct(t)?t:Xi(et(t))}function Me(t,e){var i;e===void 0&&(e=[]);var o=Xi(t),s=o===((i=t.ownerDocument)==null?void 0:i.body),n=W(o),a=s?[n].concat(n.visualViewport||[],Ct(o)?o:[]):o,l=e.concat(a);return s?l:l.concat(Me(et(a)))}function pt(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function Cn(t,e){var i=Ie(t,!1,e==="fixed");return i.top=i.top+t.clientTop,i.left=i.left+t.clientLeft,i.bottom=i.top+t.clientHeight,i.right=i.left+t.clientWidth,i.width=t.clientWidth,i.height=t.clientHeight,i.x=i.left,i.y=i.top,i}function ti(t,e,i){return e===ki?pt(In(t,i)):le(e)?Cn(e,i):pt(xn(se(t)))}function En(t){var e=Me(et(t)),i=["absolute","fixed"].indexOf(te(t).position)>=0,o=i&&N(t)?Ze(t):t;return le(o)?e.filter(function(s){return le(s)&&Ti(s,o)&&U(s)!=="body"}):[]}function On(t,e,i,o){var s=e==="clippingParents"?En(t):[].concat(e),n=[].concat(s,[i]),a=n[0],l=n.reduce(function(r,c){var d=ti(t,c,o);return r.top=ae(d.top,r.top),r.right=Ke(d.right,r.right),r.bottom=Ke(d.bottom,r.bottom),r.left=ae(d.left,r.left),r},ti(t,a,o));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function Yi(t){var e=t.reference,i=t.element,o=t.placement,s=o?G(o):null,n=o?xe(o):null,a=e.x+e.width/2-i.width/2,l=e.y+e.height/2-i.height/2,r;switch(s){case D:r={x:a,y:e.y-i.height};break;case _:r={x:a,y:e.y+e.height};break;case z:r={x:e.x+e.width,y:l};break;case V:r={x:e.x-i.width,y:l};break;default:r={x:e.x,y:e.y}}var c=s?wt(s):null;if(c!=null){var d=c==="y"?"height":"width";switch(n){case be:r[c]=r[c]-(e[d]/2-i[d]/2);break;case Ye:r[c]=r[c]+(e[d]/2-i[d]/2);break}}return r}function He(t,e){e===void 0&&(e={});var i=e,o=i.placement,s=o===void 0?t.placement:o,n=i.strategy,a=n===void 0?t.strategy:n,l=i.boundary,r=l===void 0?_s:l,c=i.rootBoundary,d=c===void 0?ki:c,u=i.elementContext,f=u===void 0?Te:u,p=i.altBoundary,I=p===void 0?!1:p,b=i.padding,g=b===void 0?0:b,E=Pi(typeof g!="number"?g:Mi(g,Be)),O=f===Te?zs:Te,w=t.rects.popper,y=t.elements[I?O:f],C=On(le(y)?y:y.contextElement||se(t.elements.popper),r,d,a),m=Ie(t.elements.reference),v=Yi({reference:m,element:w,placement:s}),x=pt(Object.assign({},w,v)),S=f===Te?x:m,k={top:C.top-S.top+E.top,bottom:S.bottom-C.bottom+E.bottom,left:C.left-S.left+E.left,right:S.right-C.right+E.right},A=t.modifiersData.offset;if(f===Te&&A){var H=A[s];Object.keys(k).forEach(function(P){var q=[z,_].indexOf(P)>=0?1:-1,K=[D,_].indexOf(P)>=0?"y":"x";k[P]+=H[K]*q})}return k}function Sn(t,e){e===void 0&&(e={});var i=e,o=i.placement,s=i.boundary,n=i.rootBoundary,a=i.padding,l=i.flipVariations,r=i.allowedAutoPlacements,c=r===void 0?Li:r,d=xe(o),u=d?l?Kt:Kt.filter(function(I){return xe(I)===d}):Be,f=u.filter(function(I){return c.indexOf(I)>=0});f.length===0&&(f=u);var p=f.reduce(function(I,b){return I[b]=He(t,{placement:b,boundary:s,rootBoundary:n,padding:a})[G(b)],I},{});return Object.keys(p).sort(function(I,b){return p[I]-p[b]})}function kn(t){if(G(t)===vt)return[];var e=Ue(t);return[ei(t),e,ei(e)]}function Ln(t){var e=t.state,i=t.options,o=t.name;if(!e.modifiersData[o]._skip){for(var s=i.mainAxis,n=s===void 0?!0:s,a=i.altAxis,l=a===void 0?!0:a,r=i.fallbackPlacements,c=i.padding,d=i.boundary,u=i.rootBoundary,f=i.altBoundary,p=i.flipVariations,I=p===void 0?!0:p,b=i.allowedAutoPlacements,g=e.options.placement,E=G(g),O=E===g,w=r||(O||!I?[Ue(g)]:kn(g)),y=[g].concat(w).reduce(function(ie,$){return ie.concat(G($)===vt?Sn(e,{placement:$,boundary:d,rootBoundary:u,padding:c,flipVariations:I,allowedAutoPlacements:b}):$)},[]),C=e.rects.reference,m=e.rects.popper,v=new Map,x=!0,S=y[0],k=0;k<y.length;k++){var A=y[k],H=G(A),P=xe(A)===be,q=[D,_].indexOf(H)>=0,K=q?"width":"height",M=He(e,{placement:A,boundary:d,rootBoundary:u,altBoundary:f,padding:c}),F=q?P?z:V:P?_:D;C[K]>m[K]&&(F=Ue(F));var de=Ue(F),J=[];if(n&&J.push(M[H]<=0),l&&J.push(M[F]<=0,M[de]<=0),J.every(function(ie){return ie})){S=A,x=!1;break}v.set(A,J)}if(x)for(var he=I?3:1,Ee=function($){var re=y.find(function(pe){var Q=v.get(pe);if(Q)return Q.slice(0,$).every(function(me){return me})});if(re)return S=re,"break"},ne=he;ne>0;ne--){var ue=Ee(ne);if(ue==="break")break}e.placement!==S&&(e.modifiersData[o]._skip=!0,e.placement=S,e.reset=!0)}}const An={name:"flip",enabled:!0,phase:"main",fn:Ln,requiresIfExists:["offset"],data:{_skip:!1}};function ii(t,e,i){return i===void 0&&(i={x:0,y:0}),{top:t.top-e.height-i.y,right:t.right-e.width+i.x,bottom:t.bottom-e.height+i.y,left:t.left-e.width-i.x}}function oi(t){return[D,z,_,V].some(function(e){return t[e]>=0})}function Tn(t){var e=t.state,i=t.name,o=e.rects.reference,s=e.rects.popper,n=e.modifiersData.preventOverflow,a=He(e,{elementContext:"reference"}),l=He(e,{altBoundary:!0}),r=ii(a,o),c=ii(l,s,n),d=oi(r),u=oi(c);e.modifiersData[i]={referenceClippingOffsets:r,popperEscapeOffsets:c,isReferenceHidden:d,hasPopperEscaped:u},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":u})}const Rn={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Tn};function Pn(t,e,i){var o=G(t),s=[V,D].indexOf(o)>=0?-1:1,n=typeof i=="function"?i(Object.assign({},e,{placement:t})):i,a=n[0],l=n[1];return a=a||0,l=(l||0)*s,[V,z].indexOf(o)>=0?{x:l,y:a}:{x:a,y:l}}function Mn(t){var e=t.state,i=t.options,o=t.name,s=i.offset,n=s===void 0?[0,0]:s,a=Li.reduce(function(d,u){return d[u]=Pn(u,e.rects,n),d},{}),l=a[e.placement],r=l.x,c=l.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=r,e.modifiersData.popperOffsets.y+=c),e.modifiersData[o]=a}const Xn={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Mn};function Yn(t){var e=t.state,i=t.name;e.modifiersData[i]=Yi({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}const Hn={name:"popperOffsets",enabled:!0,phase:"read",fn:Yn,data:{}};function Bn(t){return t==="x"?"y":"x"}function Zn(t){var e=t.state,i=t.options,o=t.name,s=i.mainAxis,n=s===void 0?!0:s,a=i.altAxis,l=a===void 0?!1:a,r=i.boundary,c=i.rootBoundary,d=i.altBoundary,u=i.padding,f=i.tether,p=f===void 0?!0:f,I=i.tetherOffset,b=I===void 0?0:I,g=He(e,{boundary:r,rootBoundary:c,padding:u,altBoundary:d}),E=G(e.placement),O=xe(e.placement),w=!O,y=wt(E),C=Bn(y),m=e.modifiersData.popperOffsets,v=e.rects.reference,x=e.rects.popper,S=typeof b=="function"?b(Object.assign({},e.rects,{placement:e.placement})):b,k=typeof S=="number"?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),A=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,H={x:0,y:0};if(m){if(n){var P,q=y==="y"?D:V,K=y==="y"?_:z,M=y==="y"?"height":"width",F=m[y],de=F+g[q],J=F-g[K],he=p?-x[M]/2:0,Ee=O===be?v[M]:x[M],ne=O===be?-x[M]:-v[M],ue=e.elements.arrow,ie=p&&ue?bt(ue):{width:0,height:0},$=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:Ri(),re=$[q],pe=$[K],Q=Pe(0,v[M],ie[M]),me=w?v[M]/2-he-Q-re-k.mainAxis:Ee-Q-re-k.mainAxis,De=w?-v[M]/2+he+Q+pe+k.mainAxis:ne+Q+pe+k.mainAxis,fe=e.elements.arrow&&Ze(e.elements.arrow),tt=fe?y==="y"?fe.clientTop||0:fe.clientLeft||0:0,Oe=(P=A==null?void 0:A[y])!=null?P:0,it=F+me-Oe-tt,ot=F+De-Oe,Ve=Pe(p?Ke(de,it):de,F,p?ae(J,ot):J);m[y]=Ve,H[y]=Ve-F}if(l){var Fe,st=y==="x"?D:V,nt=y==="x"?_:z,ee=m[C],ge=C==="y"?"height":"width",We=ee+g[st],Ne=ee-g[nt],Se=[D,V].indexOf(E)!==-1,_e=(Fe=A==null?void 0:A[C])!=null?Fe:0,ke=Se?We:ee-v[ge]-x[ge]-_e+k.altAxis,ve=Se?ee+v[ge]+x[ge]-_e-k.altAxis:Ne,ye=p&&Se?ln(ke,ee,ve):Pe(p?ke:We,ee,p?ve:Ne);m[C]=ye,H[C]=ye-ee}e.modifiersData[o]=H}}const Dn={name:"preventOverflow",enabled:!0,phase:"main",fn:Zn,requiresIfExists:["offset"]};function Vn(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function Fn(t){return t===W(t)||!N(t)?It(t):Vn(t)}function Wn(t){var e=t.getBoundingClientRect(),i=we(e.width)/t.offsetWidth||1,o=we(e.height)/t.offsetHeight||1;return i!==1||o!==1}function Nn(t,e,i){i===void 0&&(i=!1);var o=N(e),s=N(e)&&Wn(e),n=se(e),a=Ie(t,s,i),l={scrollLeft:0,scrollTop:0},r={x:0,y:0};return(o||!o&&!i)&&((U(e)!=="body"||Ct(n))&&(l=Fn(e)),N(e)?(r=Ie(e,!0),r.x+=e.clientLeft,r.y+=e.clientTop):n&&(r.x=xt(n))),{x:a.left+l.scrollLeft-r.x,y:a.top+l.scrollTop-r.y,width:a.width,height:a.height}}function _n(t){var e=new Map,i=new Set,o=[];t.forEach(function(n){e.set(n.name,n)});function s(n){i.add(n.name);var a=[].concat(n.requires||[],n.requiresIfExists||[]);a.forEach(function(l){if(!i.has(l)){var r=e.get(l);r&&s(r)}}),o.push(n)}return t.forEach(function(n){i.has(n.name)||s(n)}),o}function zn(t){var e=_n(t);return tn.reduce(function(i,o){return i.concat(e.filter(function(s){return s.phase===o}))},[])}function $n(t){var e;return function(){return e||(e=new Promise(function(i){Promise.resolve().then(function(){e=void 0,i(t())})})),e}}function jn(t){var e=t.reduce(function(i,o){var s=i[o.name];return i[o.name]=s?Object.assign({},s,o,{options:Object.assign({},s.options,o.options),data:Object.assign({},s.data,o.data)}):o,i},{});return Object.keys(e).map(function(i){return e[i]})}var si={placement:"bottom",modifiers:[],strategy:"absolute"};function ni(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return!e.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function Gn(t){t===void 0&&(t={});var e=t,i=e.defaultModifiers,o=i===void 0?[]:i,s=e.defaultOptions,n=s===void 0?si:s;return function(l,r,c){c===void 0&&(c=n);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},si,n),modifiersData:{},elements:{reference:l,popper:r},attributes:{},styles:{}},u=[],f=!1,p={state:d,setOptions:function(E){var O=typeof E=="function"?E(d.options):E;b(),d.options=Object.assign({},n,d.options,O),d.scrollParents={reference:le(l)?Me(l):l.contextElement?Me(l.contextElement):[],popper:Me(r)};var w=zn(jn([].concat(o,d.options.modifiers)));return d.orderedModifiers=w.filter(function(y){return y.enabled}),I(),p.update()},forceUpdate:function(){if(!f){var E=d.elements,O=E.reference,w=E.popper;if(ni(O,w)){d.rects={reference:Nn(O,Ze(w),d.options.strategy==="fixed"),popper:bt(w)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(k){return d.modifiersData[k.name]=Object.assign({},k.data)});for(var y=0;y<d.orderedModifiers.length;y++){if(d.reset===!0){d.reset=!1,y=-1;continue}var C=d.orderedModifiers[y],m=C.fn,v=C.options,x=v===void 0?{}:v,S=C.name;typeof m=="function"&&(d=m({state:d,options:x,name:S,instance:p})||d)}}}},update:$n(function(){return new Promise(function(g){p.forceUpdate(),g(d)})}),destroy:function(){b(),f=!0}};if(!ni(l,r))return p;p.setOptions(c).then(function(g){!f&&c.onFirstUpdate&&c.onFirstUpdate(g)});function I(){d.orderedModifiers.forEach(function(g){var E=g.name,O=g.options,w=O===void 0?{}:O,y=g.effect;if(typeof y=="function"){var C=y({state:d,name:E,instance:p,options:w}),m=function(){};u.push(C||m)}})}function b(){u.forEach(function(g){return g()}),u=[]}return p}}var Un=[yn,Hn,gn,nn,Xn,An,Dn,un,Rn],qn=Gn({defaultModifiers:Un});class Kn{constructor(e,i,o,s={}){At(this,"updateHotspotPosition",(e,i)=>{this.currentActiveIndex=e,this.currentOrientation=i;const o=Ys(this.hotspotsConfig,e,i);this.hideHotspots(),o.forEach(s=>this.updateAndShowHotspot(s,e))});this.container=i,this.popper=null,this.popperInstance=null,this.hotspotsContainer=qo(this.container),this.hotspotsConfig=Vs(e),this.shouldHidePopper=!0,this.hidePopper=this.hidePopper.bind(this),this.forceHidePopper=this.forceHidePopper.bind(this),this.imageAspectRatio=o,this.hotspotElements=new Map,this.popperListeners=[],this.trigger=s.trigger||"hover";const{containerSize:n}=e[0];this.initialContainerSize=n||[i.offsetWidth,i.offsetHeight],this.initHotspots(),this.updateHotspotsForResize(i.offsetWidth,i.offsetHeight),this.observeContainerResize()}observeContainerResize(){this.resizeObserver=new ResizeObserver(()=>{const e=this.container.offsetWidth,i=this.container.offsetHeight;this.updateHotspotsForResize(e,i)}),this.resizeObserver.observe(this.container)}updateHotspotsForResize(e,i){this.hotspotsConfig=Fs({newWidth:e,newHeight:i,initialContainerSize:this.initialContainerSize,imageAspectRatio:this.imageAspectRatio,hotspotsConfig:this.hotspotsConfig}),this.updateHotspotPosition(this.currentActiveIndex,this.currentOrientation)}cleanupPopperListeners(){this.popperListeners.forEach(({element:e,event:i,handler:o})=>{e.removeEventListener(i,o)}),this.popperListeners=[]}showPopper({hotspotElement:e,content:i,id:o,keepOpen:s}){this.popperInstance&&this.hidePopper();const n=Zs(this.container);this.popper=Ds(i,o),this.popper.setAttribute("data-show",""),this.currentHotspotElement=e,e.setAttribute("aria-expanded","true"),e.setAttribute("aria-describedby",`cloudimage-360-popper-${o}`);const a=()=>{this.shouldHidePopper=!1},l=()=>{this.shouldHidePopper=!0,this.checkAndHidePopper()},r=()=>{this.shouldHidePopper=!0,this.checkAndHidePopper()},c=()=>{this.shouldHidePopper=!1,this.hidePopperTimeout&&clearTimeout(this.hidePopperTimeout)};this.popper.addEventListener("mouseenter",a),this.popper.addEventListener("mouseleave",l),e.addEventListener("mouseleave",r),e.addEventListener("mouseenter",c),this.popperListeners.push({element:this.popper,event:"mouseenter",handler:a},{element:this.popper,event:"mouseleave",handler:l},{element:e,event:"mouseleave",handler:r},{element:e,event:"mouseenter",handler:c}),this.popperInstance={...qn(e,this.popper,n),keepOpen:s,instanceId:o}}checkAndHidePopper(){var e;this.shouldHidePopper&&!((e=this.popperInstance)!=null&&e.keepOpen)&&(this.hidePopperTimeout=setTimeout(()=>{this.shouldHidePopper&&this.hidePopper()},wo))}hidePopper(){if(this.hidePopperTimeout&&(clearTimeout(this.hidePopperTimeout),this.hidePopperTimeout=null),this.cleanupPopperListeners(),this.currentHotspotElement&&(this.currentHotspotElement.setAttribute("aria-expanded","false"),this.currentHotspotElement.removeAttribute("aria-describedby"),this.currentHotspotElement=null),this.popperInstance&&(this.popperInstance.destroy(),this.popperInstance=null),this.popper){this.popper.removeAttribute("data-show"),this.popper.setAttribute("aria-hidden","true");const e=this.popper;this.popper=null,setTimeout(()=>{e.remove()},Io)}this.shouldHidePopper=!0}forceHidePopper(){this.shouldHidePopper=!0,this.popperInstance&&(this.popperInstance.keepOpen=!1),this.hidePopper()}createHotspot(e){const{id:i,keepOpen:o,onClick:s,label:n,markerStyle:a}=e,l=qt(e),r=Hs(i,n,a);(s||l&&this.trigger==="click")&&(r.style.cursor="pointer"),r.onclick=c=>{var d;c.stopPropagation(),l&&this.trigger==="click"&&(((d=this.popperInstance)==null?void 0:d.instanceId)===i?this.hidePopper():this.showPopper({hotspotElement:r,content:l,id:i,keepOpen:o})),s==null||s(c,this.popperInstance,i)},l&&this.trigger==="hover"&&(r.addEventListener("mouseenter",()=>this.showPopper({hotspotElement:r,content:l,id:i,keepOpen:o})),r.addEventListener("mouseleave",()=>{this.shouldHidePopper=!0,this.checkAndHidePopper()}),r.addEventListener("focus",()=>this.showPopper({hotspotElement:r,content:l,id:i,keepOpen:o})),r.addEventListener("blur",()=>{this.shouldHidePopper=!0,this.checkAndHidePopper()})),this.hotspotsContainer.appendChild(r)}hideHotspots(){this.hotspotsContainer.querySelectorAll(".cloudimage-360-hotspot").forEach(e=>{e.style.opacity=0,e.style.pointerEvents="none"})}updateAndShowHotspot(e,i){const{positions:o,id:s}=e,{x:n,y:a}=o[i]??{},l=this.hotspotsContainer.querySelector(`[data-hotspot-id="${s}"]`);l&&(l.style.translate=`${n}px ${a}px`,l.style.opacity=1,l.style.pointerEvents="all")}showHotspotById(e){const i=this.hotspotsConfig.find(n=>n.id===e);if(!i)return;const o=qt(i);if(!o)return;const s=this.hotspotsContainer.querySelector(`[data-hotspot-id="${e}"]`);s&&s.style.opacity==="1"&&this.showPopper({hotspotElement:s,content:o,id:e,keepOpen:i.keepOpen})}createAllHotspots(){this.hotspotsConfig.forEach(e=>this.createHotspot(e))}initHotspots(){this.createAllHotspots()}destroy(){this.hidePopperTimeout&&clearTimeout(this.hidePopperTimeout),this.resizeObserver.disconnect(),this.hidePopper(),this.hotspotElements.clear(),this.hotspotsContainer.innerHTML=""}}const ri=typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);class Je{constructor(e,i,o){this.container=e,this.isClicked=!1,this.fullscreenView=!!o,this.imagesX=[],this.imagesY=[];const s=Math.round(window.devicePixelRatio||1);this.devicePixelRatio=ri?Math.min(s,2):s,this.id=e.id,this.movementStart={x:0,y:0},this.draggingDirection=null,this.isReady=!1,this.velocityX=0,this.velocityY=0,this.lastDragTime=0,this.lastDragX=0,this.lastDragY=0,this.inertiaAnimationId=null,this.hasInteracted=!1,this.currentZoomScale=1,this.touchDevice=Ss(),this.dragJustEnded=!1,this.isPinching=!1,this.initialPinchDistance=0,this.pinchZoomLevel=1,this.pinchZoomEmitted=!1,this.lastEmittedZoom=1,this.panOffsetX=0,this.panOffsetY=0,this.useMainThreadCanvas=ri,this.canvasWorker=this.useMainThreadCanvas?new Ts:new As,this.hotspotTimeline=null,this.hotspotTimelineIndicator=null,this.isAnimatingToFrame=!1,this.onMoveHandler=this.onMoveHandler.bind(this),this.destroy=this.destroy.bind(this),this.init(this.container,i)}closeImageBitmaps(e){!e||!Array.isArray(e)||e.forEach(i=>{var o;(o=i==null?void 0:i.bitmapImage)!=null&&o.close&&i.bitmapImage.close()})}emit(e,i={}){const o=this[e];typeof o=="function"&&o({...i,viewerId:this.id})}announce(e){Jo(this.ariaLiveRegion,e)}mouseDown(e){if(!this.isReady||this.glass)return;const i=e.target;if(i&&i.closest&&(i.closest(".cloudimage-360-button")||i.closest(".cloudimage-360-hotspot-timeline")||i.closest(".cloudimage-360-hotspot")))return;const{pageX:o,pageY:s}=e;this.hideHints(),this.hideHotspotPopper(),this.inertiaAnimationId&&(cancelAnimationFrame(this.inertiaAnimationId),this.inertiaAnimationId=null),this.autoplayJustStopped=!1,(this.autoplay||this.loopTimeoutId)&&(this.stopAutoplay(),this.autoplay=!1,this.autoplayJustStopped=!0),this.movementStart={x:o,y:s},this.isClicked=!0,this.isDragging=!1,this.inertia&&(this.velocityX=0,this.velocityY=0,this.lastDragTime=performance.now(),this.lastDragX=o,this.lastDragY=s)}mouseUp(){this.isReady&&(!this.isZoomed&&!this.autoplayJustStopped&&this.showAllIcons(),this.inertia&&this.isDragging&&(Math.abs(this.velocityX)>.1||Math.abs(this.velocityY)>.1)&&this.startInertia(),this.isDragging&&(this.emit("onDragEnd"),this.dragJustEnded=!0),this.movementStart={x:0,y:0},this.isClicked=!1,this.isDragging=!1,this.innerBox.style.cursor="grab")}startInertia(){const o=this.fullscreenView?document.body:this.container,s=this.dragSpeed/Xt,n=s*(this.amountX/o.offsetWidth),a=s*(this.amountY/o.offsetHeight),l=()=>{if(this.velocityX*=.95,this.velocityY*=.95,Math.abs(this.velocityX)<.01&&Math.abs(this.velocityY)<.01){this.inertiaAnimationId=null;return}const r=this.velocityX*16,c=this.velocityY*16,d=jt({deltaX:r,deltaY:c,reversed:this.dragReverse,allowSpinX:this.allowSpinX,allowSpinY:this.allowSpinY});if(d){const u=this.allowSpinX?Math.max(1,Math.abs(Math.round(r*n))):0,f=this.allowSpinY?Math.max(1,Math.abs(Math.round(c*a))):0;(u>0||f>0)&&this.onMoveHandler(d,u,f)}this.inertiaAnimationId=requestAnimationFrame(l)};this.inertiaAnimationId=requestAnimationFrame(l)}drag(e,i){if(!this.isReady||!this.isClicked)return;const o=e-this.movementStart.x,s=i-this.movementStart.y;if(this.inertia){const f=performance.now(),p=f-this.lastDragTime;p>0&&p<100&&(this.velocityX=(e-this.lastDragX)/p,this.velocityY=(i-this.lastDragY)/p),this.lastDragTime=f,this.lastDragX=e,this.lastDragY=i}this.draggingDirection=jt({deltaX:o,deltaY:s,reversed:this.dragReverse,allowSpinX:this.allowSpinX,allowSpinY:this.allowSpinY})||this.draggingDirection;const n=this.fullscreenView?document.body:this.container,a=this.dragSpeed/Xt,l=a*(this.amountX/n.offsetWidth),r=a*(this.amountY/n.offsetHeight),c=this.allowSpinX?Math.abs(Math.round(o*l)):0,d=this.allowSpinY?Math.abs(Math.round(s*r)):0;(this.allowSpinX&&c!==0||this.allowSpinY&&d!==0)&&(this.hasInteracted=!0,this.hideHotspotPopper(),this.onMoveHandler(this.draggingDirection,c,d),this.movementStart={x:e,y:i},setTimeout(()=>{this.isDragging||(this.isDragging=!0,this.emit("onDragStart"))},bo))}mouseMove(e){!this.isReady||!this.isClicked&&!this.isZoomed||this.glass||(this.isZoomed||this.hideAllIcons(),this.drag(e.pageX,e.pageY),this.isZoomed&&this.applyZoom(e))}mouseClick(e){if(!this.isReady||this.isDragging)return;const i=e.target;if(!(i&&i.closest&&(i.closest(".cloudimage-360-button")||i.closest(".cloudimage-360-hotspot-timeline")||i.closest(".cloudimage-360-hotspot")))){if(this.dragJustEnded){this.dragJustEnded=!1;return}if(this.autoplayJustStopped){this.autoplayJustStopped=!1;return}if(this.glass&&this.magnified){this.removeGlass();return}this.pointerZoomTrigger==="click"&&this.pointerZoom&&!this.glass&&!this.touchDevice&&this.toggleZoom(e)}}mouseDblClick(e){if(!this.isReady)return;const i=e.target;i&&i.closest&&(i.closest(".cloudimage-360-button")||i.closest(".cloudimage-360-hotspot-timeline")||i.closest(".cloudimage-360-hotspot"))||this.pointerZoomTrigger==="dblclick"&&this.pointerZoom&&!this.glass&&!this.touchDevice&&this.toggleZoom(e)}loadHigherQualityImages(e,i){const o=Re(this.srcXConfig,e),s=this.allowSpinY?Re(this.srcYConfig,e):null;Ht({cdnPathX:o,cdnPathY:s,configX:this.srcXConfig,configY:this.srcYConfig,onAllImagesLoad:(n,a)=>{this.closeImageBitmaps(this.imagesX),this.closeImageBitmaps(this.imagesY),this.imagesX=n,this.imagesY=a,i()},onError:n=>this.emit("onError",n)})}hideHotspots(){this.hotspotsInstance&&this.hotspotsInstance.hideHotspots()}hideHotspotPopper(){this.hotspotsInstance&&this.hotspotsInstance.forceHidePopper()}toggleZoom(e){if(this.isZoomed)this.showTransitionOverlay(),setTimeout(()=>{this.removeZoom()},$e);else{let i=(this.fullscreenView||this.pointerZoom?document.body:this.container).offsetWidth;this.hideHotspots(),this.showLoadingSpinner(),this.loadHigherQualityImages(i,()=>{this.showTransitionOverlay(),setTimeout(()=>{this.applyZoom(e)},$e)})}}removeZoom(){this.isZoomed=!1,this.updateView(),this.showAllIcons(),this.hideZoomOutIcon(),this.hideTransitionOverlay(),this.emit("onZoomOut"),this.announce("Zoomed out")}zoomIn(e){if(this.isZoomed||!this.pointerZoom)return;e==null||e.stopPropagation();let i=(this.fullscreenView||this.pointerZoom?document.body:this.container).offsetWidth;this.hideHotspots(),this.hideAllIcons(),this.showLoadingSpinner(),this.loadHigherQualityImages(i,()=>{this.showTransitionOverlay(),setTimeout(()=>{this.applyZoom(e)},$e)})}zoomOut(e){this.isZoomed&&(e==null||e.stopPropagation(),this.showTransitionOverlay(),setTimeout(()=>{this.removeZoom()},$e))}mouseLeave(){this.isZoomed&&this.removeZoom()}applyZoom(e){const{offsetX:i,offsetY:o}=ys(e,this.canvas,this.devicePixelRatio);this.isZoomed||(this.isZoomed=!0,this.hideAllIcons(),this.hideLoadingSpinner(),this.hideTransitionOverlay(),this.showZoomOutIcon(),this.emit("onZoomIn",{zoomLevel:this.pointerZoom}),this.announce("Zoomed in. Move mouse to pan. Click to zoom out.")),this.updateView(this.pointerZoom,i,o)}touchOutside(e){if(!this.glass)return;!this.canvas.contains(e.target)&&this.removeGlass()}touchStart(e){if(!this.isReady||this.glass||!e.touches||!e.touches.length)return;const i=e.target;if(i&&i.closest&&(i.closest(".cloudimage-360-button")||i.closest(".cloudimage-360-hotspot-timeline")||i.closest(".cloudimage-360-hotspot")))return;if(this.hideHints(),e.touches.length===2&&this.pinchZoom&&!this.isDragging){e.preventDefault(),this.isPinching=!0,this.isClicked=!1,this.inertiaAnimationId&&(cancelAnimationFrame(this.inertiaAnimationId),this.inertiaAnimationId=null);const n=e.touches[0],a=e.touches[1];if(this.initialPinchDistance=this.getPinchDistance(n,a),(this.autoplay||this.loopTimeoutId)&&(this.stopAutoplay(),this.autoplay=!1),!this.isZoomed&&this.pinchZoomLevel===1){const l=(this.fullscreenView?document.body:this.container).offsetWidth;this.hideHotspots(),this.loadHigherQualityImages(l,()=>{})}return}if(e.touches.length>1)return;const{pageX:o,pageY:s}=e.touches[0];this.inertiaAnimationId&&(cancelAnimationFrame(this.inertiaAnimationId),this.inertiaAnimationId=null),(this.autoplay||this.loopTimeoutId)&&(this.stopAutoplay(),this.autoplay=!1),this.hideAllIcons(),this.hideHotspotPopper(),this.movementStart={x:o,y:s},this.isClicked=!0,this.isDragging=!1,this.inertia&&(this.velocityX=0,this.velocityY=0,this.lastDragTime=performance.now(),this.lastDragX=o,this.lastDragY=s)}getPinchDistance(e,i){const o=e.pageX-i.pageX,s=e.pageY-i.pageY;return Math.sqrt(o*o+s*s)}getPinchCenter(e,i){return{x:(e.pageX+i.pageX)/2,y:(e.pageY+i.pageY)/2}}touchEnd(e){if(this.isReady){if(this.isPinching){if(!e.touches||e.touches.length<2){if(this.isPinching=!1,this.initialPinchDistance=0,this.pinchZoomLevel<=1){const i=this.pinchZoomEmitted;this.pinchZoomLevel=1,this.pinchZoomEmitted=!1,this.lastEmittedZoom=1,this.isZoomed=!1,this.panOffsetX=0,this.panOffsetY=0,this.showAllIcons(),this.updateView(),i&&this.emit("onZoomOut")}else if(this.canvas){const i=this.canvas.getBoundingClientRect();this.panOffsetX=i.width/2*this.devicePixelRatio,this.panOffsetY=i.height/2*this.devicePixelRatio}}return}this.showAllIcons(),this.inertia&&this.isDragging&&(Math.abs(this.velocityX)>.1||Math.abs(this.velocityY)>.1)&&this.startInertia(),this.movementStart={x:0,y:0},this.isClicked=!1,this.isDragging=!1}}touchMove(e){if(!this.isReady||this.glass)return;if(this.isPinching&&e.touches.length===2){e.preventDefault();const s=e.touches[0],n=e.touches[1],a=this.getPinchDistance(s,n);if(this.initialPinchDistance===0){this.initialPinchDistance=a;return}const l=a/this.initialPinchDistance,r=Math.max(1,Math.min(this.pinchZoomLevel*l,Yt));if(this.initialPinchDistance=a,this.pinchZoomLevel=r,!this.canvas)return;const c=this.canvas.getBoundingClientRect(),d=c.width/2*this.devicePixelRatio,u=c.height/2*this.devicePixelRatio;r>1?(this.isZoomed=!0,this.hideAllIcons(),this.updateView(r,d,u),(!this.pinchZoomEmitted||r>this.lastEmittedZoom)&&(this.emit("onZoomIn",{zoomLevel:r}),this.pinchZoomEmitted=!0,this.lastEmittedZoom=r)):(this.isZoomed=!1,this.panOffsetX=0,this.panOffsetY=0,this.updateView());return}if(!this.isClicked||!e.touches||!e.touches[0])return;const{pageX:i,pageY:o}=e.touches[0];if(e.preventDefault(),this.isZoomed&&this.pinchZoomLevel>1){const s=i-this.movementStart.x,n=o-this.movementStart.y;this.panOffsetX-=s*this.devicePixelRatio,this.panOffsetY-=n*this.devicePixelRatio,this.movementStart={x:i,y:o},this.updateView(this.pinchZoomLevel,this.panOffsetX,this.panOffsetY);return}this.drag(i,o)}keyDown(e){if(!this.isReady)return;const{keyCode:i}=e,o=this.keysReverse;switch(this.autoplay&&this.stopAutoplay(),$t(i,this.allowSpinY)&&(this.hasInteracted=!0,this.hideAllIcons(),this.hideHints()),i){case 37:o?this.moveLeft():this.moveRight();break;case 39:o?this.moveRight():this.moveLeft();break;case 38:this.allowSpinY&&(e.preventDefault(),o?this.moveTop():this.moveBottom());break;case 40:this.allowSpinY&&(e.preventDefault(),o?this.moveBottom():this.moveTop());break}}keyUp(e){const{keyCode:i}=e;$t(i,this.allowSpinY)&&this.showAllIcons()}moveActiveXIndexUp(e){this.orientation=Y.X,this.activeImageX=(this.activeImageX+e)%this.amountX}moveActiveXIndexDown(e){this.orientation=Y.X,this.activeImageX=(this.activeImageX-e+this.amountX)%this.amountX}moveActiveYIndexUp(e){this.orientation=Y.Y,this.activeImageY=(this.activeImageY+e)%this.amountY}moveActiveYIndexDown(e){this.orientation=Y.Y,this.activeImageY=(this.activeImageY-e+this.amountY)%this.amountY}moveRight(e,i=1){e&&this.activeImageX>=this.imagesX.length-1||(this.moveActiveXIndexUp(i),this.isZoomed||this.updateView())}moveLeft(e,i=1){e&&this.activeImageX<=0||(this.moveActiveXIndexDown(i),this.isZoomed||this.updateView())}moveTop(e,i=1){e&&this.activeImageY>=this.imagesY.length-1||(this.moveActiveYIndexUp(i),this.isZoomed||this.updateView())}moveBottom(e,i=1){e&&this.activeImageY<=0||(this.moveActiveYIndexDown(i),this.isZoomed||this.updateView())}onMoveHandler(e,i=1,o=1){e==="right"?this.moveRight(this.stopAtEdges,i):e==="left"?this.moveLeft(this.stopAtEdges,i):e==="up"?this.moveTop(this.stopAtEdges,o):e==="down"&&this.moveBottom(this.stopAtEdges,o),this.emit("onSpin",{direction:e,activeImageX:this.activeImageX,activeImageY:this.activeImageY,amountX:this.amountX,amountY:this.amountY})}updateView(e,i,o){const s=this.orientation===Y.X?this.activeImageX:this.activeImageY,n=this.orientation===Y.X?this.imagesX[this.activeImageX]:this.imagesY[this.activeImageY];this.hotspotsInstance&&!this.isZoomed&&!this.autoplay&&this.hotspotsInstance.updateHotspotPosition(s,this.orientation),this.hotspotTimelineIndicator&&this.orientation===Y.X&&this.updateHotspotTimelinePosition(),this.drawImageOnCanvas(n,e,i,o)}updatePercentageInLoader(e=0){this.loader&&(this.loader.innerText=e+"%")}adaptCanvasSize(e){const{naturalWidth:i,naturalHeight:o}=e;this.imageAspectRatio=i/o;const s=this.fullscreenView?window.innerWidth:this.canvas.clientWidth,n=this.fullscreenView?window.innerHeight:this.canvas.clientHeight;this.canvasWorker.postMessage({action:"adaptCanvasSize",devicePixelRatio:this.devicePixelRatio,imageAspectRatio:this.imageAspectRatio,containerWidth:s,containerHeight:n})}drawImageOnCanvas(e,i=1,o=0,s=0){this.pendingDrawData={imageData:e,zoomScale:i,pointerX:o,pointerY:s},this.drawFrameRequested||(this.drawFrameRequested=!0,requestAnimationFrame(()=>{if(this.drawFrameRequested=!1,this.pendingDrawData){const{imageData:n,zoomScale:a,pointerX:l,pointerY:r}=this.pendingDrawData;this.canvasWorker.postMessage({action:"drawImageOnCanvas",imageData:n,zoomScale:a,pointerX:l,pointerY:r})}}))}pushImageToSet(e,i,o){o===Y.X?this.imagesX[i]=e:this.imagesY[i]=e}calculatePercentage(){const e=this.amountX+this.amountY,i=this.imagesX.length+this.imagesY.length;return Math.round(i/e*100)}onImageLoad(e,i,o){this.pushImageToSet(e,i,o),this.updatePercentageInLoader(this.calculatePercentage())}onFirstImageLoaded(e,i){this.createContainers(e),this.adaptCanvasSize(i),this.drawImageOnCanvas(i)}onAllImagesLoaded(){if(this.addAllIcons(),this.isReady=!0,this.amountX=this.imagesX.length,this.amountY=this.imagesY.length,this.activeImageX=this.autoplayReverse?this.amountX-1:0,this.activeImageY=this.autoplayReverse?this.amountY-1:0,this.hotspots&&(this.hotspotsInstance=new Kn(this.hotspots,this.innerBox,this.imageAspectRatio,{trigger:this.hotspotTrigger}),this.hotspotsInstance.updateHotspotPosition(this.activeImageX,this.orientation),this.addHotspotTimeline(),this.showHotspotTimeline()),this.emit("onLoad",{imagesX:this.imagesX.length,imagesY:this.imagesY.length}),this.emit("onReady"),this.announce("360 degree view loaded. Use mouse drag or arrow keys to rotate."),this.hints!==!1&&!this.autoplay){const e=this.hints===!0||this.hints===void 0?Vt(this.viewerConfig,this.touchDevice):this.hints;e&&e.length>0&&(this.hintsOverlay=Dt(this.innerBox,e,{pointerZoomTrigger:this.pointerZoomTrigger}),Ft(this.hintsOverlay))}this.autoplay&&(this.hideAllIcons(),ks(this.play.bind(this))())}magnify(e){e.stopPropagation();const{src:i}=this.orientation===Y.Y?this.imagesY[this.activeImageY]:this.imagesX[this.activeImageX],s=(this.fullscreenView?document.body:this.container).offsetWidth*this.magnifier,n=Ro(i,s);this.showLoadingSpinner(),this.createGlass(),fs(n,r=>{this.hideLoadingSpinner(),this.magnified=!0,vs(e,this.innerBox,this.offset,r,this.glass,this.magnifier)},r=>{this.hideLoadingSpinner(),this.removeGlass(),this.emit("onError",{error:{message:r.message,url:r.url},errorCount:1,totalImages:1,errors:[{message:r.message,url:r.url}]})})}openFullscreenModal(e){e.stopPropagation(),this.hideHotspotPopper(),this.releaseMemory(),window.document.body.style.overflow="hidden";const i=jo(this.container);this.fullscreenInstance=new Je(i,this.viewerConfig,!0),this.fullscreenInstance.originalViewer=this,this.boundResizeHandler=()=>{this.fullscreenInstance&&this.closeFullscreenModal(new Event("resize"))},window.addEventListener("resize",this.boundResizeHandler),this.emit("onFullscreenOpen"),this.announce("Opened fullscreen mode. Press Escape to exit.")}closeFullscreenModal(e){e.stopPropagation();const i=this.originalViewer||this,o=this.fullscreenView?this:i.fullscreenInstance;if(i.boundResizeHandler&&(window.removeEventListener("resize",i.boundResizeHandler),i.boundResizeHandler=null),o){o.hideHotspotPopper();const s=o.container.parentNode;s&&s.parentNode&&s.parentNode.removeChild(s),o.destroy(),i.fullscreenInstance&&(i.fullscreenInstance=null)}window.document.body.style.overflow="visible",i.reloadImages(),i.emit("onFullscreenClose"),i.announce("Exited fullscreen mode")}play(){if(this.isClicked)return;this.hide360ViewCircleIcon(),this.emit("onAutoplayStart");const e=this.speed*36/(this.amountX+this.amountY),i={left:this.moveLeft.bind(this),right:this.moveRight.bind(this),top:this.moveTop.bind(this),bottom:this.moveBottom.bind(this)};this.loopTimeoutId=window.setInterval(()=>{if(this.playOnce&&xs({autoplayBehavior:this.autoplayBehavior,activeImageX:this.activeImageX,activeImageY:this.activeImageY,amountX:this.amountX,amountY:this.amountY,autoplayReverse:this.autoplayReverse})){this.stopAutoplay();return}Cs({autoplayBehavior:this.autoplayBehavior,activeImageX:this.activeImageX,activeImageY:this.activeImageY,amountX:this.amountX,amountY:this.amountY,autoplayReverse:this.autoplayReverse,spinDirection:this.spinDirection})&&(this.spinDirection=Os(this.spinDirection));const n=this.spinDirection==="y";Is({autoplayBehavior:this.autoplayBehavior,spinY:n,reversed:this.autoplayReverse,loopTriggers:i})},e)}stopAutoplay(){if(this.showAllIcons(),this.autoplay=!1,window.clearTimeout(this.loopTimeoutId),this.loopTimeoutId=null,this.emit("onAutoplayStop"),this.hints!==!1&&!this.hintsOverlay&&!this.hintsHidden){const e=this.hints===!0?Vt(this.viewerConfig,this.touchDevice):this.hints;e&&e.length>0&&(this.hintsOverlay=Dt(this.innerBox,e,{pointerZoomTrigger:this.pointerZoomTrigger}),Ft(this.hintsOverlay))}}destroy(){this.stopAutoplay(),this.inertiaAnimationId&&(cancelAnimationFrame(this.inertiaAnimationId),this.inertiaAnimationId=null),this.removeEvents(),this.closeImageBitmaps(this.imagesX),this.closeImageBitmaps(this.imagesY),this.imagesX=[],this.imagesY=[],this.canvasWorker&&(this.canvasWorker.terminate(),this.canvasWorker=null),this.hotspotsInstance&&this.hotspotsInstance.destroy(),this.hintsOverlay&&this.hintsOverlay.parentNode&&(this.hintsOverlay.parentNode.removeChild(this.hintsOverlay),this.hintsOverlay=null),this.hotspotTimeline&&this.hotspotTimeline.parentNode&&(this.hotspotTimeline.parentNode.removeChild(this.hotspotTimeline),this.hotspotTimeline=null,this.hotspotTimelineIndicator=null),this.innerBox&&this.innerBox.classList.remove("has-hotspot-timeline"),this.container&&(this.container.classList.remove("ci360-theme-dark","ci360-hotspot-marker-inverted","ci360-hotspot-marker-brand"),this.container.style.removeProperty("--ci360-hotspot-brand-color"),this.container.innerHTML="")}releaseMemory(){this.stopAutoplay(),this.closeImageBitmaps(this.imagesX),this.closeImageBitmaps(this.imagesY),this.imagesX=[],this.imagesY=[],this.isMemoryReleased=!0}reloadImages(){if(!this.isMemoryReleased)return;this.isMemoryReleased=!1;const e=this.container.offsetWidth;this.loadHigherQualityImages(e,()=>{this.updateView()})}addInitialIcon(){this.initialIcon||this.hide360Logo||(this.initialIcon=Do(this.logoSrc),this.innerBox.appendChild(this.initialIcon))}showInitialIcon(){!this.initialIcon||this.hasInteracted||(this.initialIcon.style.opacity=1)}hideInitialIcon(){this.initialIcon&&(this.initialIcon.style.opacity=0)}createGlass(){this.hideAllIcons(),this.glass=document.createElement("div"),this.innerBox.appendChild(this.glass),this.innerBox.style.cursor="default"}removeGlass(){this.showAllIcons(),this.innerBox.removeChild(this.glass),this.glass=null,this.magnified=!1}addMagnifierIcon(){this.pointerZoom&&(this.magnifierIcon=_o(),this.magnifierIcon.onclick=this.zoomIn.bind(this),this.iconsContainer.appendChild(this.magnifierIcon),this.zoomOutIcon=zo(),this.zoomOutIcon.onclick=this.zoomOut.bind(this),this.zoomOutIcon.style.display="none",this.iconsContainer.appendChild(this.zoomOutIcon))}showMagnifierIcon(){this.magnifierIcon&&(this.magnifierIcon.style.display="",this.magnifierIcon.style.visibility="visible",this.magnifierIcon.style.opacity=1)}hideMagnifierIcon(){this.magnifierIcon&&(this.magnifierIcon.style.display="none",this.magnifierIcon.style.visibility="hidden",this.magnifierIcon.style.opacity=0)}showZoomOutIcon(){this.zoomOutIcon&&(this.zoomOutIcon.style.display="",this.zoomOutIcon.style.visibility="visible",this.zoomOutIcon.style.opacity=1)}hideZoomOutIcon(){this.zoomOutIcon&&(this.zoomOutIcon.style.display="none",this.zoomOutIcon.style.visibility="hidden",this.zoomOutIcon.style.opacity=0)}addFullscreenIcon(){this.fullscreen&&(this.fullscreenIcon=Wo(),this.fullscreenIcon.onclick=this.openFullscreenModal.bind(this),this.iconsContainer.appendChild(this.fullscreenIcon))}addCloseFullscreenIcon(){this.fullscreenCloseIcon=Fo(),this.fullscreenCloseIcon.onclick=this.closeFullscreenModal.bind(this),this.iconsContainer.appendChild(this.fullscreenCloseIcon)}showFullscreenIcon(){this.fullscreenIcon&&(this.fullscreenIcon.style.opacity=1)}hideFullscreenIcon(){this.fullscreenIcon&&(this.fullscreenIcon.style.opacity=0)}add360ViewCircleIcon(){this.view360CircleIcon||(this.view360CircleIcon=Bo(this.bottomCircleOffset),this.innerBox.appendChild(this.view360CircleIcon))}show360ViewCircleIcon(){this.view360CircleIcon&&(this.view360CircleIcon.style.opacity=1)}hide360ViewCircleIcon(){this.view360CircleIcon&&(this.view360CircleIcon.style.opacity=0)}addLoadingSpinner(){this.loadingSpinner=Go(),this.innerBox.appendChild(this.loadingSpinner)}showLoadingSpinner(){this.loadingSpinner&&(this.hideAllIcons(),this.loadingSpinner.style.opacity=1)}createTransitionOverlay(){this.transitionOverlay=Uo(),this.innerBox.appendChild(this.transitionOverlay)}showTransitionOverlay(){this.transitionOverlay&&(this.hideAllIcons(),this.transitionOverlay.style.opacity=1)}hideTransitionOverlay(){this.transitionOverlay&&(this.transitionOverlay.style.opacity=0)}hideLoadingSpinner(){this.loadingSpinner&&(this.loadingSpinner.style.opacity=0)}hideHints(){!this.hintsOverlay||this.hintsHidden||(this.hintsHidden=!0,es(this.hintsOverlay))}addHotspotTimeline(){if(!this.hotspots||this.hotspotTimeline)return;const e=ns(this.innerBox,this.amountX,this.hotspots);if(!e)return;this.hotspotTimeline=e.element,this.hotspotTimelineIndicator=e.indicator,this.innerBox.classList.add("has-hotspot-timeline"),this.hotspotTimeline.querySelectorAll(".cloudimage-360-hotspot-timeline-dot").forEach(o=>{o.addEventListener("click",s=>{s.stopPropagation(),this.hideAllIcons(),this.hideHints();const n=parseInt(o.getAttribute("data-frame"),10),a=o.getAttribute("data-hotspot-id");isNaN(n)||this.animateToFrame(n,a)})}),this.updateHotspotTimelinePosition()}showHotspotTimeline(){as(this.hotspotTimeline)}hideHotspotTimeline(){ls(this.hotspotTimeline)}updateHotspotTimelinePosition(){rs(this.hotspotTimelineIndicator,this.activeImageX,this.amountX)}animateToFrame(e,i){if(this.hotspotsInstance&&this.hotspotsInstance.hidePopper(),this.isAnimatingToFrame||e===this.activeImageX){e===this.activeImageX&&i&&this.hotspotsInstance&&this.hotspotTimelineOnClick&&this.hotspotsInstance.showHotspotById(i);return}this.isAnimatingToFrame=!0,this.hasInteracted=!0,(this.autoplay||this.loopTimeoutId)&&(this.stopAutoplay(),this.autoplay=!1),this.inertiaAnimationId&&(cancelAnimationFrame(this.inertiaAnimationId),this.inertiaAnimationId=null);const o=this.activeImageX,s=(e-o+this.amountX)%this.amountX,n=(o-e+this.amountX)%this.amountX,a=s<=n,l=a?s:n;if(l===0){this.isAnimatingToFrame=!1;return}const r=30;let c=l;const d=()=>{if(c<=0){this.isAnimatingToFrame=!1,i&&this.hotspotsInstance&&this.hotspotTimelineOnClick&&setTimeout(()=>{this.hotspotsInstance.showHotspotById(i)},50);return}a?this.moveRight():this.moveLeft(),c--,c>0?setTimeout(d,r):(this.isAnimatingToFrame=!1,i&&this.hotspotsInstance&&this.hotspotTimelineOnClick&&setTimeout(()=>{this.hotspotsInstance.showHotspotById(i)},50))};d()}remove360ViewCircleIcon(){this.view360CircleIcon&&(this.innerBox.removeChild(this.view360CircleIcon),this.view360CircleIcon=null)}addAllIcons(){this.removeLoader(),this.iconsContainer&&(this.innerBox.style.cursor="grab",this.pointerZoom&&(this.createTransitionOverlay(),this.addLoadingSpinner()),!this.fullscreenView&&!this.touchDevice&&this.addMagnifierIcon(),this.fullscreenView||this.addFullscreenIcon(),this.initialIconShown&&this.addInitialIcon(),this.bottomCircle&&this.add360ViewCircleIcon())}showAllIcons(){this.showInitialIcon(),this.show360ViewCircleIcon(),this.showMagnifierIcon(),this.showFullscreenIcon(),this.showHotspotTimeline()}hideAllIcons(){this.hideInitialIcon(),this.hide360ViewCircleIcon(),this.hideMagnifierIcon(),this.hideZoomOutIcon(),this.hideFullscreenIcon()}removeLoader(){this.loader&&(this.innerBox.removeChild(this.loader),this.loader=null)}attachEvents(e,i,o){e&&this.addMouseEvents(),i&&this.addTouchEvents(),o&&this.addKeyboardEvents(),this.addEscKeyHandler()}removeEvents(){this.removeMouseEvents(),this.removeTouchEvents(),this.removeKeyboardEvents(),this.removeEscKeyHandler()}addMouseEvents(){this.boundMouseClick=this.mouseClick.bind(this),this.boundMouseDblClick=this.mouseDblClick.bind(this),this.boundMouseDown=this.mouseDown.bind(this),this.boundMouseMove=Pt(this.mouseMove.bind(this),Mt),this.boundMouseUp=this.mouseUp.bind(this),this.boundMouseLeave=this.mouseLeave.bind(this),this.innerBox.addEventListener("click",this.boundMouseClick),this.innerBox.addEventListener("dblclick",this.boundMouseDblClick),this.innerBox.addEventListener("mousedown",this.boundMouseDown),this.innerBox.addEventListener("mouseleave",this.boundMouseLeave),document.addEventListener("mousemove",this.boundMouseMove),document.addEventListener("mouseup",this.boundMouseUp)}addTouchEvents(){this.boundTouchOutside=this.touchOutside.bind(this),this.boundTouchStart=this.touchStart.bind(this),this.boundTouchEnd=this.touchEnd.bind(this),this.boundTouchMove=Pt(this.touchMove.bind(this),Mt),document.addEventListener("touchstart",this.boundTouchOutside),this.container.addEventListener("touchstart",this.boundTouchStart),this.container.addEventListener("touchend",this.boundTouchEnd),this.container.addEventListener("touchmove",this.boundTouchMove)}addKeyboardEvents(){this.boundKeyDown=this.keyDown.bind(this),this.boundKeyUp=this.keyUp.bind(this),document.addEventListener("keydown",this.boundKeyDown),document.addEventListener("keyup",this.boundKeyUp)}addEscKeyHandler(){this.boundEscHandler=e=>{e.keyCode===27&&(this.fullscreenView?this.closeFullscreenModal(e):this.isZoomed?this.removeZoom():this.glass&&this.removeGlass())},document.addEventListener("keydown",this.boundEscHandler)}removeEscKeyHandler(){document.removeEventListener("keydown",this.boundEscHandler)}removeMouseEvents(){this.innerBox.removeEventListener("click",this.boundMouseClick),this.innerBox.removeEventListener("dblclick",this.boundMouseDblClick),this.innerBox.removeEventListener("mousedown",this.boundMouseDown),this.innerBox.removeEventListener("mouseleave",this.boundMouseLeave),document.removeEventListener("mousemove",this.boundMouseMove),document.removeEventListener("mouseup",this.boundMouseUp)}removeTouchEvents(){document.removeEventListener("touchstart",this.boundTouchOutside),this.container.removeEventListener("touchstart",this.boundTouchStart),this.container.removeEventListener("touchend",this.boundTouchEnd),this.container.removeEventListener("touchmove",this.boundTouchMove)}removeKeyboardEvents(){document.removeEventListener("keydown",this.boundKeyDown),document.removeEventListener("keyup",this.boundKeyUp)}createContainers(e){if(this.iconsContainer=Bt(this.innerBox),this.canvas=Vo(this.innerBox,e),this.loader=$o(this.innerBox),this.ariaLiveRegion=Ko(this.innerBox),this.useMainThreadCanvas)this.canvasWorker.postMessage({action:"initCanvas",offscreen:this.canvas,devicePixelRatio:this.devicePixelRatio});else{const i=this.canvas.transferControlToOffscreen();this.canvasWorker.postMessage({action:"initCanvas",offscreen:i,devicePixelRatio:this.devicePixelRatio},[i])}this.fullscreenView&&this.addCloseFullscreenIcon(),dt(this.innerBox,".cloudimage-360-placeholder")}update(e){this.isReady&&(this.stopAutoplay(),dt(this.innerBox,".cloudimage-360-icons-container"),this.init(this.container,e,!0),this.iconsContainer=Bt(this.innerBox),this.onAllImagesLoaded())}init(e,i,o){const s=i?So(i):Eo(e),{folder:n,apiVersion:a,filenameX:l,filenameY:r,imageListX:c,imageListY:d,indexZeroBase:u,amountX:f,amountY:p,draggable:I=!0,swipeable:b=!0,keys:g,keysReverse:E,bottomCircleOffset:O,autoplay:w,autoplayBehavior:y,playOnce:C,speed:m,autoplayReverse:v,fullscreen:x,magnifier:S,ciToken:k,ciFilters:A,ciTransformation:H,lazyload:P,dragSpeed:q,stopAtEdges:K,pointerZoom:M,pointerZoomTrigger:F="dblclick",imageInfo:de="black",initialIconShown:J,bottomCircle:he,hotspots:Ee,hotspotTrigger:ne="hover",dragReverse:ue,hide360Logo:ie,logoSrc:$,inertia:re,pinchZoom:pe,hints:Q,theme:me,markerTheme:De,brandColor:fe,hotspotTimelineOnClick:tt=!0,aspectRatio:Oe,onReady:it,onLoad:ot,onSpin:Ve,onAutoplayStart:Fe,onAutoplayStop:st,onFullscreenOpen:nt,onFullscreenClose:ee,onZoomIn:ge,onZoomOut:We,onDragStart:Ne,onDragEnd:Se,onError:_e}=s,ke={ciToken:k,ciFilters:A,ciTransformation:H},ve=ht(c,[]),ye=ht(d,[]);if(this.viewerConfig=s,this.amountX=ve.length||f,this.amountY=ye.length||p,this.allowSpinX=!!this.amountX,this.allowSpinY=!!this.amountY,this.activeImageX=v?this.amountX-1:0,this.activeImageY=v?this.amountY-1:0,this.bottomCircleOffset=O,this.autoplay=w,this.autoplayBehavior=y,this.playOnce=C,this.speed=m,this.autoplayReverse=v,this.fullscreen=x,this.magnifier=S>1?Math.min(S,Co):0,this.dragSpeed=Math.max(q,xo),this.stopAtEdges=K,this.ciParams=ke,this.apiVersion=a,this.pointerZoom=M>1?Math.min(M,Yt):null,this.pointerZoomTrigger=F,this.keysReverse=E,this.info=de,this.keys=g,this.innerBox=this.innerBox??No(this.container),Oe&&(this.container.style.aspectRatio=Oe),this.initialIconShown=J,this.bottomCircle=he,this.spinDirection=Es(this.autoplayBehavior,this.allowSpinX,this.allowSpinY),this.dragReverse=ue,this.hotspots=Ee,this.hotspotTrigger=ne,this.hide360Logo=ie,this.logoSrc=$,this.inertia=re,this.pinchZoom=pe,this.hints=Q,this.hotspotTimelineOnClick=tt,me==="dark"?this.container.classList.add("ci360-theme-dark"):me==="light"&&this.container.classList.remove("ci360-theme-dark"),this.container.classList.remove("ci360-hotspot-marker-inverted","ci360-hotspot-marker-brand"),De==="inverted"?this.container.classList.add("ci360-hotspot-marker-inverted"):De==="brand"&&(this.container.classList.add("ci360-hotspot-marker-brand"),fe&&this.container.style.setProperty("--ci360-hotspot-brand-color",fe)),this.onReady=it,this.onLoad=ot,this.onSpin=Ve,this.onAutoplayStart=Fe,this.onAutoplayStop=st,this.onFullscreenOpen=nt,this.onFullscreenClose=ee,this.onZoomIn=ge,this.onZoomOut=We,this.onDragStart=Ne,this.onDragEnd=Se,this.onError=_e,this.srcXConfig={folder:n,filename:l,imageList:ve,container:e,innerBox:this.innerBox,apiVersion:a,ciParams:ke,lazyload:P,amount:this.amountX,indexZeroBase:u,autoplayReverse:v,orientation:Y.X},this.srcYConfig={...this.srcXConfig,filename:r,imageList:ye,orientation:Y.Y,amount:this.amountY},o&&this.removeEvents(),this.attachEvents(I,b,g),o)return;const Ot=(this.fullscreenView?document.body:this.container).offsetWidth,St=this.allowSpinX&&!ve.length?Re(this.srcXConfig,Ot):null,kt=this.allowSpinY&&!ye.length?Re(this.srcYConfig,Ot):null,Lt=_i=>{Ht({cdnPathX:St,cdnPathY:kt,configX:this.srcXConfig,configY:this.srcYConfig,onImageLoad:(Le,zi,$i)=>this.onImageLoad(Le,zi,$i),onFirstImageLoad:Le=>this.onFirstImageLoaded(_i,Le),onAllImagesLoad:this.onAllImagesLoaded.bind(this),onError:Le=>this.emit("onError",Le)})};this.allowSpinX?Nt(St,this.srcXConfig,Lt):this.allowSpinY&&Nt(kt,this.srcYConfig,Lt)}}const ai=typeof navigator<"u"&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);class Hi{constructor(){this.views=new Map,this.initAll=this.initAll.bind(this),this.getViews=this.getViews.bind(this),this.memoryObserver=null,this.memoryManagementAutoEnabled=!1}generateId(){return`ci360-${Math.random().toString(36).slice(2,11)}`}init(e,i,o){if(!e)return;const s=e.id||this.generateId();e.id||(e.id=s);const n=new Je(e,i,o);return this.views.set(s,n),ai&&!this.memoryManagementAutoEnabled&&(this.memoryManagementAutoEnabled=!0,setTimeout(()=>this.enableMemoryManagement(),100)),n}initAll(e="cloudimage-360"){[...document.querySelectorAll(`.${e}`)].filter(Boolean).forEach(o=>{const s=o.id||this.generateId();o.id||(o.id=s);const n=new Je(o);this.views.set(s,n)}),ai&&!this.memoryManagementAutoEnabled&&this.views.size>0&&(this.memoryManagementAutoEnabled=!0,setTimeout(()=>this.enableMemoryManagement(),100))}destroy(e){const i=this.getViewById(e);i&&(i.destroy(),this.views.delete(e))}destroyAll(){this.views.forEach(e=>{e.destroy()}),this.views.clear()}getViewById(e){return this.views.get(e)}getViews(){return Array.from(this.views.values())}updateView(e,i){const o=this.getViewById(e);if(!o)return null;const s={...o.viewerConfig,...i};o.destroy();const n=document.getElementById(e);return this.init(n,s)}enableMemoryManagement(e={}){this.memoryObserver&&this.memoryObserver.disconnect();const i=e.rootMargin||"200px";this.memoryObserver=new IntersectionObserver(o=>{o.forEach(s=>{const n=this.getViewById(s.target.id);n&&(s.isIntersecting?n.isMemoryReleased&&n.reloadImages():!n.isMemoryReleased&&n.isReady&&n.releaseMemory())})},{rootMargin:i}),this.views.forEach((o,s)=>{const n=document.getElementById(s);n&&this.memoryObserver.observe(n)}),this.boundVisibilityHandler=()=>{document.hidden?this.views.forEach(o=>{!o.isMemoryReleased&&o.isReady&&o.releaseMemory()}):this.views.forEach((o,s)=>{if(o.isMemoryReleased){const n=document.getElementById(s);if(n){const a=n.getBoundingClientRect();a.top<window.innerHeight&&a.bottom>0&&o.reloadImages()}}})},document.addEventListener("visibilitychange",this.boundVisibilityHandler)}disableMemoryManagement(){this.memoryObserver&&(this.memoryObserver.disconnect(),this.memoryObserver=null),this.boundVisibilityHandler&&(document.removeEventListener("visibilitychange",this.boundVisibilityHandler),this.boundVisibilityHandler=null)}}window.CI360=Hi;const Jn=[{id:"hotspot-1",label:"Specifications",orientation:"x",containerSize:[1170,663],positions:{0:{x:527,y:319},1:{x:527,y:319},2:{x:527,y:null},3:{x:498,y:null},4:{x:470,y:null},5:{x:441,y:null},73:{x:555,y:null},72:{x:586,y:null},71:{x:614,y:null},70:{x:641,y:null},69:{x:668,y:null},68:{x:692,y:null},67:{x:715,y:null},66:{x:736,y:null},65:{x:756,y:null},64:{x:773,y:null},63:{x:787,y:null}},content:`
      <div class="hotspot-modal hotspot-modal--link">
        <a href="https://scaleflex.com" target="_blank" class="hotspot-link">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/>
            <polyline points="15 3 21 3 21 9"/>
            <line x1="10" y1="14" x2="21" y2="3"/>
          </svg>
          <span>View Full Specifications</span>
          <svg class="hotspot-link__arrow" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <polyline points="9 18 15 12 9 6"/>
          </svg>
        </a>
      </div>
    `},{id:"hotspot-2",label:"All-Terrain Wheels",markerStyle:"dot-label",orientation:"x",containerSize:[1220,680],positions:{73:{x:355,y:474},74:{x:355,y:null},72:{x:341,y:479},71:{x:336,y:null},70:{x:332,y:null},69:{x:327,y:null},68:{x:326,y:null},67:{x:327,y:null},66:{x:331,y:null},65:{x:334,y:null},64:{x:336,y:null},63:{x:347,y:474}},content:`
      <div class="hotspot-modal hotspot-modal--info">
        <div class="hotspot-info__badge">Premium</div>
        <h3 class="hotspot-info__title">All-Terrain Wheels</h3>
        <p class="hotspot-info__description">
          18-inch alloy wheels with reinforced sidewalls, designed for both on-road comfort and off-road durability.
        </p>
        <div class="hotspot-info__specs">
          <div class="hotspot-info__spec">
            <span class="hotspot-info__spec-label">Size</span>
            <span class="hotspot-info__spec-value">18"</span>
          </div>
          <div class="hotspot-info__spec">
            <span class="hotspot-info__spec-label">Type</span>
            <span class="hotspot-info__spec-value">Alloy</span>
          </div>
        </div>
      </div>
    `},{id:"hotspot-3",label:"Roof Rack",orientation:"x",containerSize:[1220,680],positions:{11:{x:683,y:151},12:{x:683,y:null},13:{x:683,y:null},14:{x:683,y:null},15:{x:683,y:null},16:{x:683,y:null},17:{x:681,y:152},18:{x:677,y:156},19:{x:671,y:159},20:{x:665,y:163},21:{x:656,y:168},22:{x:650,y:171},23:{x:643,y:176},24:{x:635,y:178},25:{x:628,y:181},26:{x:621,y:null},27:{x:610,y:null},28:{x:598,y:null},29:{x:588,y:null},30:{x:578,y:null},31:{x:570,y:176},32:{x:560,y:173}},content:`
      <div class="hotspot-modal hotspot-modal--gallery">
        <div class="hotspot-gallery__images">
          <img src="https://scaleflex.cloudimg.io/v7/demo/suv-orange-car-360/orange-11.jpg?w=80&h=60&func=cover" alt="Roof rack angle 1" />
          <img src="https://scaleflex.cloudimg.io/v7/demo/suv-orange-car-360/orange-20.jpg?w=80&h=60&func=cover" alt="Roof rack angle 2" />
          <img src="https://scaleflex.cloudimg.io/v7/demo/suv-orange-car-360/orange-30.jpg?w=80&h=60&func=cover" alt="Roof rack angle 3" />
        </div>
        <div class="hotspot-gallery__content">
          <h3 class="hotspot-gallery__title">Adventure Roof Rack</h3>
          <p class="hotspot-gallery__description">
            Heavy-duty roof rack system with 150kg capacity. Perfect for camping gear, kayaks, or extra luggage.
          </p>
          <div class="hotspot-gallery__actions">
            <a href="https://scaleflex.com" target="_blank" class="hotspot-btn hotspot-btn--primary">
              Configure
            </a>
            <button class="hotspot-btn hotspot-btn--secondary">
              Add to Cart
            </button>
          </div>
        </div>
      </div>
    `},{id:"hotspot-4",label:"LED Headlights",orientation:"x",containerSize:[1220,680],positions:{6:{x:607,y:246},7:{x:619,y:null},8:{x:630,y:null},9:{x:637,y:null},10:{x:642,y:null}},content:`
      <div class="hotspot-modal hotspot-modal--info">
        <h3 class="hotspot-info__title">LED Headlights</h3>
        <p class="hotspot-info__description">
          Adaptive LED headlights with automatic high beam and cornering light technology for superior night visibility.
        </p>
        <div class="hotspot-info__specs">
          <div class="hotspot-info__spec">
            <span class="hotspot-info__spec-label">Type</span>
            <span class="hotspot-info__spec-value">LED</span>
          </div>
          <div class="hotspot-info__spec">
            <span class="hotspot-info__spec-label">Lumens</span>
            <span class="hotspot-info__spec-value">3000</span>
          </div>
        </div>
      </div>
    `}],Qn={folder:"https://scaleflex.cloudimg.io/v7/demo/360-nike/",filenameX:"nike-{index}.jpg",filenameY:"nike-y-{index}.jpg",amountX:"35",amountY:"36",autoplayBehavior:"spin-xy"},er={folder:"https://scaleflex.cloudimg.io/v7/demo/earbuds/",filenameX:"{index}.jpg",amountX:"233",amountY:void 0,filenameY:void 0},li={folder:{label:"data-folder",value:"https://scaleflex.cloudimg.io/v7/demo/earbuds/",isRequired:!0,isUrl:!0},filenameX:{label:"data-filename-x",value:"{index}.jpg"},filenameY:{label:"data-filename-y"},amountY:{label:"data-amount-y",isRequired:!1},amountX:{label:"data-amount-x",value:233,isRequired:!0},speed:{label:"data-speed",value:100,isRequired:!1},dragSpeed:{label:"data-drag-speed",value:120,isRequired:!1},autoplay:{label:"data-autoplay",isRequired:!1},pointerZoom:{label:"data-pointer-zoom",value:1.5,isRequired:!1},pointerZoomTrigger:{label:"data-pointer-zoom-trigger",value:"dblclick",isRequired:!1},autoplayBehavior:{label:"data-autoplay-behavior",value:"spin-xy",isRequired:!1},magnifier:{label:"data-magnifier",value:1.5,isRequired:!1},autoplayReverse:{label:"data-autoplay-reverse",isRequired:!1},playOnce:{label:"data-play-once",isRequired:!1},keys:{label:"data-keys",isRequired:!1},keysReverse:{label:"data-keys-reverse",isRequired:!1},draggable:{label:"data-draggable",isRequired:!1},swipeable:{label:"data-swipeable",isRequired:!1},fullscreen:{label:"data-fullscreen",isRequired:!1},dragReverse:{label:"data-drag-reverse",isRequired:!1},stopAtEdges:{label:"data-stop-at-edges",isRequired:!1},bottomCircle:{label:"data-bottom-circle",isRequired:!1},inertia:{label:"data-inertia",isRequired:!1},hints:{label:"data-hints",isRequired:!1},theme:{label:"data-theme",isRequired:!1}},ci={NAME:"#7B9200",URL:"#2D88CB"},tr=["folder","class"],Bi=new IntersectionObserver(t=>{t.forEach(e=>{e.isIntersecting&&(e.target.classList.add("revealed"),Bi.unobserve(e.target))})},{threshold:.1,rootMargin:"0px 0px -40px 0px"});document.querySelectorAll(".demo-reveal").forEach(t=>Bi.observe(t));const ct=document.getElementById("demo-nav");if(ct){window.addEventListener("scroll",()=>{ct.classList.toggle("scrolled",window.scrollY>10)},{passive:!0});const t=ct.querySelectorAll(".demo-nav-links a"),e=document.querySelectorAll("section[id]"),i=()=>{const o=window.scrollY+100;e.forEach(s=>{const n=s.offsetTop,a=s.offsetHeight;if(o>=n&&o<n+a){const l=s.getAttribute("id");t.forEach(r=>{r.classList.toggle("active",r.getAttribute("href")===`#${l}`)})}})};window.addEventListener("scroll",i,{passive:!0})}const oe=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);if(oe){const t=document.querySelector(".gallery-section"),e=document.querySelector(".programmatic-control-section");t&&(t.style.display="none"),e&&(e.style.display="none")}const ir=document.getElementById("spin-directions"),di=document.getElementById("copy-text"),hi=document.getElementById("code-block"),ui=document.getElementById("code-wrapper"),mt=document.getElementById("pointer-zoom-selector"),or=document.getElementById("pointer-zoom-trigger"),sr=document.querySelector(".code-section .copy-button"),nr=document.querySelector(".output-code"),rr=document.getElementById("pointer-checkbox"),ar=document.querySelectorAll(".plugin-option"),ft=document.getElementById("x-images-selector"),lr=document.getElementById("images-y"),cr=document.getElementById("spin-speed"),dr=document.getElementById("drag-speed"),Zi=document.getElementById("custom-styling-checkbox"),hr=document.getElementById("custom-styling-wrapper"),Di=document.getElementById("custom-styling-textarea"),ur=document.getElementById("theme-selector"),Vi=document.querySelectorAll(".hint-option"),pr=document.getElementById("folder-path-option"),Et=document.getElementById("folder-path"),Xe=document.getElementById("filename-pattern"),Qe=document.getElementById("custom-images-input"),gt=document.getElementById("nike-x-images"),R=new Hi;function mr(t){const e=t.target.value,i=e==="Y",o=e==="custom";if(pr.style.display=o?"block":"none",Xe.disabled=!o,ft.style.display=!i&&!o?"block":"none",gt.style.display=i?"block":"none",Qe.style.display=o?"block":"none",lr.style.display=i?"block":"none",o){const s=Et.value||"",n=Xe.value||"{index}.jpg",a=parseInt(Qe.value,10)||36;if(s){const l=R.updateView("demo-generator",{folder:s,filenameX:n,amountX:a,amountY:0,filenameY:null});Z(l.viewerConfig)}}else{const s=i?Qn:er,n=R.updateView("demo-generator",s);i?gt.value=35:ft.value=233,Xe.value="{index}.jpg",Z(n.viewerConfig)}}function fr(t){const e=t.target.value,i=Xe.value||"{index}.jpg",o=parseInt(Qe.value,10)||36;if(e){const s=R.updateView("demo-generator",{folder:e,filenameX:i,amountX:o});Z(s.viewerConfig)}}function gr(t){const e=t.target.value;if(Et.value&&e){const o=R.updateView("demo-generator",{filenameX:e});Z(o.viewerConfig)}}function vr(t){const e=parseInt(t.target.value,10);if(e>0){const i=R.updateView("demo-generator",{amountX:e});Z(i.viewerConfig)}}function yr(t){const{value:e}=t.target,i=R.updateView("demo-generator",{dragSpeed:parseInt(e,10)});Z(i.viewerConfig)}function br(t){const{value:e}=t.target,i=R.updateView("demo-generator",{speed:parseInt(e,10)});Z(i.viewerConfig)}function wr(){navigator.clipboard.writeText(nr.innerText),di.innerHTML="Copied",setTimeout(()=>{di.innerHTML="Copy"},500)}function Fi(t){const{value:e}=t.target,i=R.updateView("demo-generator",{amountX:parseInt(e,10)});Z(i.viewerConfig)}function Ir(t){const e=t.target.checked,i=parseFloat(mt.value,10),o=R.updateView("demo-generator",{pointerZoom:e?i:!1});mt.disabled=!e,Z(o.viewerConfig)}function xr(t){const{value:e}=t.target,i=R.updateView("demo-generator",{pointerZoom:parseFloat(e,10)});Z(i.viewerConfig)}function Cr(t){const{value:e}=t.target,i=R.updateView("demo-generator",{pointerZoomTrigger:e});Z(i.viewerConfig)}function Er(t){const e=t.target.checked,i=t.target.getAttribute("data-plugin-property"),o=t.target.getAttribute("data-plugin-value");let s=e;o&&(s=e?JSON.parse(o):void 0);const n=R.updateView("demo-generator",{[i]:s});Z(n.viewerConfig)}function Z(t){hi.innerText="",Object.keys(t).filter(o=>li[o]&&!!t[o]).forEach(o=>{const{label:s}=li[o],n=document.createElement("div"),a=document.createElement("span"),l=document.createElement("span");a.innerText=s,a.style.color=ci.NAME,tr.includes(o)&&(l.style.color=ci.URL),n.appendChild(a),l.innerText=`"${t[o]}"`,n.innerHTML+="=",n.appendChild(l),hi.appendChild(n),ui.scrollTop=ui.scrollHeight})}dr.addEventListener("change",yr);cr.addEventListener("change",br);rr.addEventListener("change",Ir);ft.addEventListener("change",Fi);mt.addEventListener("change",xr);or.addEventListener("change",Cr);ir.addEventListener("change",mr);sr.addEventListener("click",wr);Et.addEventListener("change",fr);Xe.addEventListener("change",gr);Qe.addEventListener("change",vr);gt.addEventListener("change",Fi);ar.forEach(t=>{t.addEventListener("change",Er)});const Or=document.getElementById("gurkha-suv"),Wi=(t,e,i,o)=>{const s=Math.floor(i/o),n=[];for(let a=1;a<=i&&n.length<o;a+=s)n.push(`${t}${e.replace("{index}",a)}`);return n},Sr=Wi("https://scaleflex.cloudimg.io/v7/demo/suv-orange-car-360/","orange-{index}.jpg",73,36),kr={folder:"https://scaleflex.cloudimg.io/v7/demo/suv-orange-car-360/",filenameX:"orange-{index}.jpg",...oe?{imageListX:Sr}:{amountX:73},lazyload:!0,speed:120,pointerZoom:oe?!1:2,responsive:"scaleflex",autoplay:!0,fullscreen:!0,magnifier:oe?!1:3,playOnce:!0,bottomCircle:!1,hotspots:oe?void 0:Jn,inertia:!0,hints:!0};R.init(Or,kr);const Lr=document.getElementById("demo-generator"),Ar=Wi("https://scaleflex.cloudimg.io/v7/demo/earbuds/","{index}.jpg",233,36),Tr={folder:"https://scaleflex.cloudimg.io/v7/demo/earbuds/",filenameX:"{index}.jpg",...oe?{imageListX:Ar}:{amountX:233},autoplay:!0,speed:100,pointerZoom:oe?!1:1.5,dragSpeed:100,bottomCircle:!1,fullscreen:!0,keys:!0,responsive:"scaleflex",lazyload:!0,hints:!0,...oe?{}:{onReady:t=>{console.log("onReady:",t.viewerId)},onLoad:t=>{console.log("onLoad:",`${t.imagesX} images loaded`)},onSpin:t=>{console.log("onSpin:",`Frame ${t.activeImageX+1}/${t.amountX}`,t.direction)},onAutoplayStart:t=>{console.log("onAutoplayStart:",t.viewerId)},onAutoplayStop:t=>{console.log("onAutoplayStop:",t.viewerId)},onFullscreenOpen:t=>{console.log("onFullscreenOpen:",t.viewerId)},onFullscreenClose:t=>{console.log("onFullscreenClose:",t.viewerId)},onZoomIn:t=>{console.log("onZoomIn:",`zoom level ${t.zoomLevel}`)},onZoomOut:t=>{console.log("onZoomOut:",t.viewerId)},onDragStart:t=>{console.log("onDragStart:",t.viewerId)},onDragEnd:t=>{console.log("onDragEnd:",t.viewerId)}}};R.init(Lr,Tr);const Rr=R.getViewById("demo-generator");Z(Rr.viewerConfig);let j=null,pi=null;function Pr(t){const e=t.target.checked;hr.style.display=e?"block":"none",e?Ni():j&&(j.remove(),j=null)}function Mr(t,e){const i=o=>o.replace(/\/\*[\s\S]*?\*\//g,"").trim();return t.replace(/(\/\*[\s\S]*?\*\/\s*)?([^\{\}]+)\{/g,(o,s,n)=>{const a=s||"",l=n.split(",").map(r=>{const c=i(r);return c?c.startsWith(`#${e}`)?c:c===".cloudimage-360"?`#${e}`:`#${e} ${c}`:""}).filter(Boolean).join(", ");return`${a}${l} {`})}function Ni(){const t=Di.value.trim();if(j&&(j.remove(),j=null),!t)return;const e=Mr(t,"demo-generator");j=document.createElement("style"),j.id="demo-generator-custom-styles",j.textContent=e,document.head.appendChild(j)}function Xr(){Zi.checked&&(clearTimeout(pi),pi=setTimeout(Ni,150))}Zi.addEventListener("change",Pr);Di.addEventListener("input",Xr);function Yr(t){const{value:e}=t.target,i=R.updateView("demo-generator",{theme:e});Z(i.viewerConfig)}ur.addEventListener("change",Yr);function Hr(){const t=[];return Vi.forEach(e=>{e.checked&&t.push(e.getAttribute("data-hint"))}),t.length>0?t:!1}function Br(){const t=Hr(),e=R.updateView("demo-generator",{hints:t});Z(e.viewerConfig)}Vi.forEach(t=>{t.addEventListener("change",Br)});R.initAll();const T=R.getViewById("programmatic-viewer"),mi=document.getElementById("frame-display");let fi=-1;function ce(){if(T&&mi){const t=T.activeImageX+1,e=T.amountX;t!==fi&&(fi=t,mi.textContent=`Frame: ${t} / ${e}`)}requestAnimationFrame(ce)}T&&requestAnimationFrame(ce);function Ce(){T&&T.hideAllIcons()}var gi;(gi=document.getElementById("btn-play"))==null||gi.addEventListener("click",()=>{T&&(Ce(),T.play())});var vi;(vi=document.getElementById("btn-stop"))==null||vi.addEventListener("click",()=>{T&&T.stopAutoplay()});var yi;(yi=document.getElementById("btn-left"))==null||yi.addEventListener("click",()=>{T&&(Ce(),T.moveLeft(!1,5),ce())});var bi;(bi=document.getElementById("btn-right"))==null||bi.addEventListener("click",()=>{T&&(Ce(),T.moveRight(!1,5),ce())});var wi;(wi=document.getElementById("btn-frame-0"))==null||wi.addEventListener("click",()=>{T&&(Ce(),T.animateToFrame(0),setTimeout(ce,100))});var Ii;(Ii=document.getElementById("btn-frame-36"))==null||Ii.addEventListener("click",()=>{T&&(Ce(),T.animateToFrame(36),setTimeout(ce,100))});var xi;(xi=document.getElementById("btn-frame-72"))==null||xi.addEventListener("click",()=>{T&&(Ce(),T.animateToFrame(72),setTimeout(ce,100))});{const t=document.querySelectorAll(".demo-also-slide"),e=document.getElementById("also-dots");if(t.length>0&&e){let n=function(r){r.classList.remove("demo-also-slide--enter-right","demo-also-slide--enter-left","demo-also-slide--leave-left","demo-also-slide--leave-right")},a=function(r){if(r===i||o)return;o=!0;const c=r>i||i===t.length-1&&r===0,d=t[i],u=t[r];n(d),d.classList.remove("demo-also-slide--active"),d.classList.add(c?"demo-also-slide--leave-left":"demo-also-slide--leave-right"),n(u),u.classList.add(c?"demo-also-slide--enter-right":"demo-also-slide--enter-left"),u.addEventListener("animationend",function f(){u.removeEventListener("animationend",f),n(d),n(u),u.classList.add("demo-also-slide--active"),o=!1}),i=r,e.querySelectorAll(".demo-also-dot").forEach((f,p)=>{f.classList.toggle("demo-also-dot--active",p===i)}),l()},l=function(){clearInterval(s),s=setInterval(()=>{a((i+1)%t.length)},5e3)};var Dr=n,Vr=a,Fr=l;let i=0,o=!1,s;for(let r=0;r<t.length;r++){const c=document.createElement("button");c.className=`demo-also-dot${r===0?" demo-also-dot--active":""}`,c.setAttribute("aria-label",`Slide ${r+1}`),c.addEventListener("click",()=>a(r)),e.appendChild(c)}l()}}
